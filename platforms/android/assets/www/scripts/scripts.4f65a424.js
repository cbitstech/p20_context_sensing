function S4(){return(65536*(1+Math.random())|0).toString(16).substring(1)}function guid(){return(S4()+S4()+"-"+S4()+"-4"+S4().substr(0,3)+"-"+S4()+"-"+S4()+S4()+S4()).toLowerCase()}!function(a){function b(b,c){function h(a,b,c){if(a.stopPropagation(),a.preventDefault(),!$&&!k(b)&&!b.hasClass("dwa")){$=!0;var d=b.find(".dw-ul");r(d),clearInterval(lb),lb=setInterval(function(){c(d)},zb.delay),c(d)}}function k(b){return a.isArray(zb.readonly)?(b=a(".dwwl",Q).index(b),zb.readonly[b]):zb.readonly}function n(b){var c='<div class="dw-bf">',b=Eb[b],b=b.values?b:g(b),d=1,e=b.labels||[],f=b.values,h=b.keys||f;return a.each(f,function(a,b){0==d%20&&(c+='</div><div class="dw-bf">'),c+='<div role="option" aria-selected="false" class="dw-li dw-v" data-val="'+h[a]+'"'+(e[a]?' aria-label="'+e[a]+'"':"")+' style="height:'+O+"px;line-height:"+O+'px;"><div class="dw-i">'+b+"</div></div>",d++}),c+="</div>"}function r(b){gb=a(".dw-li",b).index(a(".dw-v",b).eq(0)),hb=a(".dw-li",b).index(a(".dw-v",b).eq(-1)),kb=a(".dw-ul",Q).index(b)}function A(a){var b=zb.headerText;return b?"function"==typeof b?b.call(xb,a):b.replace(/\{value\}/i,a):""}function B(){vb.temp=vb.values?vb.values.slice(0):zb.parseValue(yb.val()||"",vb),L()}function C(b){var c,d=window.getComputedStyle?getComputedStyle(b[0]):b[0].style;return s?(a.each(["t","webkitT","MozT","OT","msT"],function(a,b){return void 0!==d[b+"ransform"]?(c=d[b+"ransform"],!1):void 0}),c=c.split(")")[0].split(", "),b=c[13]||c[5]):b=d.top.replace("px",""),Math.round(N-b/O)}function D(a,b){clearTimeout(Bb[b]),delete Bb[b],a.closest(".dwwl").removeClass("dwa")}function E(a,b,c,d,e){var f=(N-c)*O,g=a[0].style;f==Db[b]&&Bb[b]||(d&&f!=Db[b]&&H("onAnimStart",[Q,b,d]),Db[b]=f,g[u+"Transition"]="all "+(d?d.toFixed(3):0)+"s ease-out",s?g[u+"Transform"]="translate3d(0,"+f+"px,0)":g.top=f+"px",Bb[b]&&D(a,b),d&&e&&(a.closest(".dwwl").addClass("dwa"),Bb[b]=setTimeout(function(){D(a,b)},1e3*d)),Cb[b]=c)}function F(b,c,d){var b=a('.dw-li[data-val="'+b+'"]',c),c=a(".dw-li",c),e=c.index(b),f=c.length;if(!b.hasClass("dw-v")){for(var g=b,h=0,i=0;e-h>=0&&!g.hasClass("dw-v");)h++,g=c.eq(e-h);for(;f>e+i&&!b.hasClass("dw-v");)i++,b=c.eq(e+i);(h>i&&i&&2!==d||!h||0>e-h||1==d)&&b.hasClass("dw-v")?e+=i:(b=g,e-=h)}return{cell:b,v:e,val:b.attr("data-val")}}function G(b,c,d,e,f){!1!==H("validate",[Q,c,b,e])&&(a(".dw-ul",Q).each(function(d){var g=a(this),h=d==c||void 0===c,i=F(vb.temp[d],g,e),j=i.cell;(!j.hasClass("dw-sel")||h)&&(vb.temp[d]=i.val,a(".dw-sel",g).removeClass("dw-sel"),zb.multiple||(a(".dw-sel",g).removeAttr("aria-selected"),j.attr("aria-selected","true")),j.addClass("dw-sel"),E(g,d,i.v,h?b:.1,h?f:!1))}),P=zb.formatResult(vb.temp),vb.live&&L(d,0,!0),a(".dwv",Q).html(A(P)),d&&H("onChange",[P]))}function H(b,d){var e;return d.push(vb),a.each([Y.defaults,Ab,c],function(a,c){c[b]&&(e=c[b].apply(xb,d))}),e}function I(b,c,d,e,f){var c=Math.max(gb,Math.min(c,hb)),g=a(".dw-li",b).eq(c),h=void 0===f?c:f,i=void 0!==f,j=kb,k=e?c==h?.1:Math.abs((c-h)*zb.timeUnit):0;vb.temp[j]=g.attr("data-val"),E(b,j,c,k,i),setTimeout(function(){G(k,j,!0,d,i)},10)}function J(a){var b=Cb[kb]+1;I(a,b>hb?gb:b,1,!0)}function K(a){var b=Cb[kb]-1;I(a,gb>b?hb:b,2,!0)}function L(a,b,c,d,e){Hb&&!c&&G(b,void 0,e),P=zb.formatResult(vb.temp),d||(vb.values=vb.temp.slice(0),vb.val=P),a&&Gb&&(nb=!0,yb.val(P).change())}function M(a,b){var c;rb.on(a,function(){clearTimeout(c),c=setTimeout(function(){(W&&b||!b)&&vb.position(!b)},200)})}var N,O,P,Q,R,S,T,U,V,W,X,Y,Z,$,_,ab,bb,cb,db,eb,fb,gb,hb,ib,jb,kb,lb,mb,nb,ob,pb,qb,rb,sb,tb,ub,vb=this,wb=a.mobiscroll,xb=b,yb=a(xb),zb=v({},z),Ab={},Bb={},Cb={},Db={},Eb=[],Fb=[],Gb=yb.is("input"),Hb=!1,Ib=function(b){d(b)&&!i&&!$&&!ub&&!k(this)&&(b.preventDefault(),i=!0,ab="clickpick"!=zb.mode,jb=a(".dw-ul",this),r(jb),fb=(bb=void 0!==Bb[kb])?C(jb):Cb[kb],cb=f(b,"Y"),db=new Date,eb=cb,E(jb,kb,fb,.001),ab&&jb.closest(".dwwl").addClass("dwa"),a(document).on(x,Jb).on(y,Kb))},Jb=function(a){ab&&(a.preventDefault(),a.stopPropagation(),eb=f(a,"Y"),E(jb,kb,Math.max(gb-1,Math.min(fb+(cb-eb)/O,hb+1)))),cb!==eb&&(bb=!0)},Kb=function(){var b,c=new Date-db,d=Math.max(gb-1,Math.min(fb+(cb-eb)/O,hb+1)),e=jb.offset().top;if(300>c?(c=(eb-cb)/c,b=c*c/zb.speedUnit,0>eb-cb&&(b=-b)):b=eb-cb,c=Math.round(fb-b/O),!b&&!bb){var e=Math.floor((eb-e)/O),f=a(a(".dw-li",jb)[e]);b=ab,!1!==H("onValueTap",[f])?c=e:b=!0,b&&(f.addClass("dw-hl"),setTimeout(function(){f.removeClass("dw-hl")},200))}ab&&I(jb,c,0,!0,Math.round(d)),i=!1,jb=null,a(document).off(x,Jb).off(y,Kb)},Lb=function(b){ub&&ub.removeClass("dwb-a"),ub=a(this),a(document).on(y,Mb),!ub.hasClass("dwb-d")&&!ub.hasClass("dwb-nhl")&&ub.addClass("dwb-a"),ub.hasClass("dwwb")&&d(b)&&h(b,ub.closest(".dwwl"),ub.hasClass("dwwbp")?J:K)},Mb=function(){$&&(clearInterval(lb),$=!1),ub&&(ub.removeClass("dwb-a"),ub=null),a(document).off(y,Mb)},Nb=function(b){38==b.keyCode?h(b,a(this),K):40==b.keyCode&&h(b,a(this),J)},Ob=function(){$&&(clearInterval(lb),$=!1)},Pb=function(b){if(!k(this)){b.preventDefault();var b=b.originalEvent||b,b=b.wheelDelta?b.wheelDelta/120:b.detail?-b.detail/3:0,c=a(".dw-ul",this);r(c),I(c,Math.round(Cb[kb]-b),0>b?1:2)}};vb.position=function(b){if(ib&&!pb&&!(S===R.width()&&T===(rb[0].innerHeight||rb.innerHeight())&&b||!1===H("onPosition",[Q]))){var c,d,e,f,g,h,i,j,k,l=0,m=0,b=rb.scrollTop();f=a(".dwwr",Q);var n=a(".dw",Q),o={};g=void 0===zb.anchor?yb:zb.anchor,S=R.width(),T=rb[0].innerHeight||rb.innerHeight(),/modal|bubble/.test(zb.display)&&(a(".dwc",Q).each(function(){c=a(this).outerWidth(!0),l+=c,m=c>m?c:m}),c=l>S?m:l,f.width(c).css("white-space",l>S?"":"nowrap")),U=n.outerWidth(),V=n.outerHeight(!0),W=T>=V&&S>=U,vb.scrollLock=W,"modal"==zb.display?(d=(S-U)/2,e=b+(T-V)/2):"bubble"==zb.display?(k=!0,j=a(".dw-arrw-i",Q),e=g.offset(),h=Math.abs(a(zb.context).offset().top-e.top),i=Math.abs(a(zb.context).offset().left-e.left),f=g.outerWidth(),g=g.outerHeight(),d=i-(n.outerWidth(!0)-f)/2,d=d>S-U?S-(U+20):d,d=5>d?5:d,e=h-V,b>e||h>b+T?(n.removeClass("dw-bubble-top").addClass("dw-bubble-bottom"),e=h+g):n.removeClass("dw-bubble-bottom").addClass("dw-bubble-top"),j=j.outerWidth(),f=i+f/2-(d+(U-j)/2),a(".dw-arr",Q).css({left:Math.max(0,Math.min(f,j))})):(o.width="100%","top"==zb.display?e=b:"bottom"==zb.display&&(e=b+T-V)),o.top=0>e?0:e,o.left=d,n.css(o),R.height(0),d=Math.max(e+V,"body"==zb.context?a(document).height():sb.scrollHeight),R.height(d),k&&(e+V>b+T||h>b+T)&&(pb=!0,setTimeout(function(){pb=!1},300),rb.scrollTop(Math.min(e+V-T,d-T)))}},vb.enable=function(){zb.disabled=!1,Gb&&yb.prop("disabled",!1)},vb.disable=function(){zb.disabled=!0,Gb&&yb.prop("disabled",!0)},vb.setValue=function(b,c,d,e){vb.temp=a.isArray(b)?b.slice(0):zb.parseValue.call(xb,b+"",vb),L(c,d,!1,e,c)},vb.getValue=function(){return vb.values},vb.getValues=function(){var a,b=[];for(a in vb._selectedValues)b.push(vb._selectedValues[a]);return b},vb.changeWheel=function(b,c,d){if(Q){var e=0,f=b.length;a.each(zb.wheels,function(g,h){return a.each(h,function(g,h){return-1<a.inArray(e,b)&&(Eb[e]=h,a(".dw-ul",Q).eq(e).html(n(e)),f--,!f)?(vb.position(),G(c,void 0,d),!1):void e++}),f?void 0:!1})}},vb.isVisible=function(){return Hb},vb.tap=function(a,b){var c,d;zb.tap&&a.on("touchstart.dw mousedown.dw",function(a){a.preventDefault(),c=f(a,"X"),d=f(a,"Y")}).on("touchend.dw",function(a){20>Math.abs(f(a,"X")-c)&&20>Math.abs(f(a,"Y")-d)&&b.call(this,a),e()}),a.on("click.dw",function(a){j||b.call(this,a),a.preventDefault()})},vb.show=function(b){if(!zb.disabled&&!Hb){"top"==zb.display&&(X="slidedown"),"bottom"==zb.display&&(X="slideup"),B(),H("onBeforeShow",[]);var c,d=0,f="";X&&!b&&(f="dw-"+X+" dw-in");var g='<div role="dialog" class="'+zb.theme+" dw-"+zb.display+(t?" dw"+t:"")+(_?"":" dw-nobtn")+'">'+(ib?'<div class="dw-persp"><div class="dwo"></div><div class="dw dwbg '+f+'"><div class="dw-arrw"><div class="dw-arrw-i"><div class="dw-arr"></div></div></div>':'<div class="dw dwbg dwi">')+'<div class="dwwr"><div aria-live="assertive" class="dwv'+(zb.headerText?"":" dw-hidden")+'"></div><div class="dwcc">',h=a.isArray(zb.minWidth),i=a.isArray(zb.maxWidth),j=a.isArray(zb.fixedWidth);a.each(zb.wheels,function(b,e){g+='<div class="dwc'+("scroller"!=zb.mode?" dwpm":" dwsc")+(zb.showLabel?"":" dwhl")+'"><div class="dwwc dwrc"><table cellpadding="0" cellspacing="0"><tr>',a.each(e,function(a,b){Eb[d]=b,c=void 0!==b.label?b.label:a,g+='<td><div class="dwwl dwrc dwwl'+d+'">'+("scroller"!=zb.mode?'<a href="#" tabindex="-1" class="dwb-e dwwb dwwbp" style="height:'+O+"px;line-height:"+O+'px;"><span>+</span></a><a href="#" tabindex="-1" class="dwb-e dwwb dwwbm" style="height:'+O+"px;line-height:"+O+'px;"><span>&ndash;</span></a>':"")+'<div class="dwl">'+c+'</div><div tabindex="0" aria-live="off" aria-label="'+c+'" role="listbox" class="dwww"><div class="dww" style="height:'+zb.rows*O+"px;"+(zb.fixedWidth?"width:"+(j?zb.fixedWidth[d]:zb.fixedWidth)+"px;":(zb.minWidth?"min-width:"+(h?zb.minWidth[d]:zb.minWidth)+"px;":"min-width:"+zb.width+"px;")+(zb.maxWidth?"max-width:"+(i?zb.maxWidth[d]:zb.maxWidth)+"px;":""))+'"><div class="dw-ul">',g+=n(d),g+='</div><div class="dwwol"></div></div><div class="dwwo"></div></div><div class="dwwol"></div></div></td>',d++}),g+="</tr></table></div></div>"}),g+="</div>",ib&&_&&(g+='<div class="dwbc">',a.each(tb,function(a,b){b="string"==typeof b?vb.buttons[b]:b,g+="<span"+(zb.btnWidth?' style="width:'+100/tb.length+'%"':"")+' class="dwbw '+b.css+'"><a href="#" class="dwb dwb'+a+' dwb-e" role="button">'+b.text+"</a></span>"}),g+="</div>"),g+=(ib?"</div>":"")+"</div></div></div>",Q=a(g),R=a(".dw-persp",Q),G(),H("onMarkupReady",[Q]),ib?(Q.appendTo(zb.context),X&&!b&&(Q.addClass("dw-trans"),setTimeout(function(){Q.removeClass("dw-trans").find(".dw").removeClass(f)},350))):yb.is("div")?yb.html(Q):Q.insertAfter(yb),H("onMarkupInserted",[Q]),Hb=!0,Y.init(Q,vb),ib&&(a.each(tb,function(b,c){vb.tap(a(".dwb"+b,Q),function(a){c="string"==typeof c?vb.buttons[c]:c,c.handler.call(this,a,vb)})}),zb.closeOnOverlay&&vb.tap(a(".dwo",Q),function(){vb.cancel()}),a(window).on("keydown.dw",function(a){13==a.keyCode?vb.select():27==a.keyCode&&vb.cancel()}),zb.scrollLock&&Q.on("touchmove",function(a){W&&a.preventDefault()}),a("input,select,button",sb).each(function(){this.disabled||(a(this).attr("autocomplete")&&a(this).data("autocomplete",a(this).attr("autocomplete")),a(this).addClass("dwtd").prop("disabled",!0).attr("autocomplete","off"))}),vb.position(),M("orientationchange.dw resize.dw",!1),M("scroll.dw",!0),vb.alert(zb.ariaDesc)),Q.on("DOMMouseScroll mousewheel",".dwwl",Pb).on(w,".dwwl",Ib).on("keydown",".dwwl",Nb).on("keyup",".dwwl",Ob).on(w,".dwb-e",Lb).on("selectstart mousedown",q).on("click",".dwb-e",q).on("touchend",function(){zb.tap&&e()}).on("keydown",".dwb-e",function(b){32==b.keyCode&&(b.preventDefault(),b.stopPropagation(),a(this).click())}),H("onShow",[Q,P])}},vb.hide=function(b,c,d){Hb&&(d||!1!==H("onClose",[P,c]))&&(a(".dwtd",sb).each(function(){a(this).prop("disabled",!1).removeClass("dwtd"),a(this).data("autocomplete")?a(this).attr("autocomplete",a(this).data("autocomplete")):a(this).removeAttr("autocomplete")}),Q&&((b=ib&&X&&!b)&&Q.addClass("dw-trans").find(".dw").addClass("dw-"+X+" dw-out"),setTimeout(function(){Q.remove()},b?350:1),rb.off(".dw")),Db={},Hb=!1,qb&&(ob=!0,qb.focus()))},vb.select=function(){!1!==vb.hide(!1,"set")&&(L(!0,0,!0),H("onSelect",[vb.val]))},vb.alert=function(a){m.text(a),clearTimeout(l),l=setTimeout(function(){m.text("")},5e3)},vb.attachShow=function(a,b){Fb.push(a),"inline"!==zb.display&&a.on((zb.showOnFocus?"focus.dw":"")+(zb.showOnTap?" click.dw":""),function(){!ob&&!j&&(b&&b(),qb=a,vb.show()),setTimeout(function(){ob=!1},300)})},vb.cancel=function(){!1!==vb.hide(!1,"cancel")&&H("onCancel",[vb.val])},vb.init=function(b){Y=v({defaults:{},load:p,init:p},wb.themes[b.theme||zb.theme]),Z=wb.i18n[b.lang||zb.lang],v(c,b),Y.load(Z,c),v(zb,Y.defaults,Z,c),zb.buttons=zb.buttons||["set","cancel"],zb.headerText=void 0===zb.headerText?"inline"!==zb.display?"{value}":!1:zb.headerText,vb.settings=zb,yb.off(".dw"),(b=wb.presets[zb.preset])&&(Ab=b.call(xb,vb),v(zb,Ab,c)),N=Math.floor(zb.rows/2),O=zb.height,X=zb.animate,ib="inline"!==zb.display,tb=zb.buttons,rb=a("body"==zb.context?window:zb.context),sb=a(zb.context)[0],zb.setText||tb.splice(a.inArray("set",tb),1),zb.cancelText||tb.splice(a.inArray("cancel",tb),1),zb.button3&&tb.splice(a.inArray("set",tb)+1,0,{text:zb.button3Text,handler:zb.button3}),vb.context=rb,vb.live=!ib||-1==a.inArray("set",tb),vb.buttons.set={text:zb.setText,css:"dwb-s",handler:vb.select},vb.buttons.cancel={text:vb.live?zb.closeText:zb.cancelText,css:"dwb-c",handler:vb.cancel},vb.buttons.clear={text:zb.clearText,css:"dwb-cl",handler:function(){vb.trigger("onClear",[Q]),yb.val(""),vb.live||vb.hide()}},_=0<tb.length,Hb&&vb.hide(),ib?(B(),Gb&&(void 0===mb&&(mb=xb.readOnly),xb.readOnly=!0),vb.attachShow(yb),a(window).off(".dwa").on("focus.dwa",function(){qb&&document.activeElement==qb[0]&&(ob=!0)})):vb.show(),Gb&&yb.on("change.dw",function(){nb||vb.setValue(yb.val(),!1,.2),nb=!1})},vb.option=function(a,b){var c={};"object"==typeof a?c=a:c[a]=b,vb.init(c)},vb.destroy=function(){vb.hide(!0,!1,!0),a.each(Fb,function(a,b){b.off(".dw")}),a(window).off(".dwa"),Gb&&(xb.readOnly=mb),delete o[xb.id],H("onDestroy",[])},vb.getInst=function(){return vb},vb.getValidCell=F,vb.trigger=H,o[xb.id]=vb,vb.values=null,vb.val=null,vb.temp=null,vb.buttons={},vb._selectedValues={},vb.init(c)}function c(a){for(var b in a)if(void 0!==r[a[b]])return!0;return!1}function d(a){if("touchstart"===a.type)k=!0;else if(k)return k=!1;return!0}function e(){j=!0,setTimeout(function(){j=!1},300)}function f(a,b){var c=a.originalEvent,d=a.changedTouches;return d||c&&c.changedTouches?c?c.changedTouches[0]["page"+b]:d[0]["page"+b]:a["page"+b]}function g(b){var c={values:[],keys:[]};return a.each(b,function(a,b){c.keys.push(a),c.values.push(b)}),c}function h(a,c,d){var e=a;return"object"==typeof c?a.each(function(){this.id||(n+=1,this.id="mobiscroll"+n),o[this.id]&&o[this.id].destroy(),new b(this,c)}):("string"==typeof c&&a.each(function(){var a;return(a=o[this.id])&&a[c]&&(a=a[c].apply(this,Array.prototype.slice.call(d,1)),void 0!==a)?(e=a,!1):void 0}),e)}var i,j,k,l,m,n=(new Date).getTime(),o={},p=function(){},q=function(a){a.preventDefault()},r=document.createElement("modernizr").style,s=c(["perspectiveProperty","WebkitPerspective","MozPerspective","OPerspective","msPerspective"]),t=function(){var a,b=["Webkit","Moz","O","ms"];for(a in b)if(c([b[a]+"Transform"]))return"-"+b[a].toLowerCase();return""}(),u=t.replace(/^\-/,"").replace("moz","Moz"),v=a.extend,w="touchstart mousedown",x="touchmove mousemove",y="touchend mouseup",z={width:70,height:40,rows:3,delay:300,disabled:!1,readonly:!1,closeOnOverlay:!0,showOnFocus:!0,showOnTap:!0,showLabel:!0,wheels:[],theme:"",selectedText:" Selected",closeText:"Close",display:"modal",mode:"scroller",preset:"",lang:"en-US",setText:"Set",cancelText:"Cancel",clearText:"Clear",context:"body",ariaDesc:"Select a value",scrollLock:!0,tap:!0,btnWidth:!0,speedUnit:.0012,timeUnit:.1,formatResult:function(a){return a.join(" ")},parseValue:function(b,c){var d,e=b.split(" "),f=[],h=0;return a.each(c.settings.wheels,function(b,c){a.each(c,function(b,c){c=c.values?c:g(c),d=c.keys||c.values,f.push(-1!==a.inArray(e[h],d)?e[h]:d[0]),h++})}),f}};a(function(){m=a('<div class="dw-hidden" role="alert"></div>').appendTo("body")}),a(document).on("mouseover mouseup mousedown click",function(a){return j?(a.stopPropagation(),a.preventDefault(),!1):void 0}),a.fn.mobiscroll=function(b){return v(this,a.mobiscroll.shorts),h(this,b,arguments)},a.mobiscroll=a.mobiscroll||{setDefaults:function(a){v(z,a)},presetShort:function(a){this.shorts[a]=function(b){return h(this,v(b,{preset:a}),arguments)}},util:{prefix:t,has3d:s},shorts:{},presets:{},themes:{},i18n:{}},a.scroller=a.scroller||a.mobiscroll,a.fn.scroller=a.fn.scroller||a.fn.mobiscroll}(jQuery),function(a){var b=a.mobiscroll,c=b.util.has3d,d=b.util.prefix.replace(/^\-/,"").replace("moz","Moz"),e={controls:["calendar"],firstDay:0,maxMonthWidth:170,highlight:!0,swipe:!0,liveSwipe:!0,showDivergentDays:!0,divergentDayChange:!0,navigation:"yearMonth",dateText:"Date",timeText:"Time",calendarText:"Calendar",prevMonthText:"Previous Month",nextMonthText:"Next Month",prevYearText:"Previous Year",nextYearText:"Next Year"};b.presets.calbase=function(b){function f(c,d,e){var f,g,h,i,k={};return c&&(c=b.convert(c),a.each(c,function(a,b){if(f=b.d||b.start||b,g=f+"",b.start&&b.end)for(i=new Date(b.start);i<=b.end;)h=new Date(i.getFullYear(),i.getMonth(),i.getDate()).getTime(),k[h]=k[h]||[],k[h].push(b),i.setDate(i.getDate()+1);else if(f.getTime)h=new Date(f.getFullYear(),f.getMonth(),f.getDate()).getTime(),k[h]=k[h]||[],k[h].push(b);else if(g.match(/w/i)){var c=ib.firstDay,l=+g.replace("w",""),m=0,n=new Date(d,e-1,1).getDay();for(c-n+1>1&&(m=7),j=0;18>j;j++)h=new Date(d,e-1,7*j+c-m-n+1+l).getTime(),k[h]=k[h]||[],k[h].push(b)}else g=g.split("/"),g[1]?h=new Date(d,g[0]-1,g[1]).getTime():(h=new Date(d,e-1,g[0]).getTime(),k[h]=k[h]||[],k[h].push(b),h=new Date(d,e,g[0]).getTime(),k[h]=k[h]||[],k[h].push(b),h=new Date(d,e+1,g[0]).getTime()),k[h]=k[h]||[],k[h].push(b)})),k}function g(a,c){$=f(ib.invalid,a,c),b.onGenMonth(a,c)}function h(c,d){var e,f,g,h,i,j,k,l,m,n,o,p=1,q=0;i=new Date(c,d,1);var r=i.getFullYear(),s=i.getMonth(),t=b.getDate(!0),u=new Date(r,s+1,0).getDate(),v=new Date(r,s,1).getDay(),w=new Date(r,s,0).getDate()-v+1,x='<div class="dw-cal-table">',y='<div class="dw-week-nr-c">';for(1<ib.firstDay-v+1&&(q=7),o=0;42>o;o++)n=o+ib.firstDay-q,e=new Date(r,s,n-v+1),f=e.getFullYear(),g=e.getMonth(),h=e.getDate(),i=f+"-"+g+"-"+h,j=a.extend({valid:e<new Date(N.getFullYear(),N.getMonth(),N.getDate())||e>O?!1:void 0===$[e.getTime()],selected:t.getFullYear()===f&&t.getMonth()===g&&t.getDate()===h},b.getDayProps(e,t)),k=j.valid,l=j.selected,f=j.cssClass,m=v>n||n>=u+v,gb[i]=j,0==o%7&&(x+=(o?"</div>":"")+'<div class="dw-cal-row'+(ib.highlight&&t-e>=0&&6048e5>t-e?" dw-cal-week-hl":"")+'">',kb&&("month"==kb&&g!==s&&o?p=1==h?1:2:"year"==kb&&(p=e,p=new Date(p),p.setHours(0,0,0),p.setDate(p.getDate()+4-(p.getDay()||7)),e=new Date(p.getFullYear(),0,1),p=Math.ceil(((p-e)/864e5+1)/7)),y+='<div class="dw-week-nr"><div class="dw-week-nr-i">'+p+"</div></div>",p++)),x+='<div role="button" tabindex="0" class="dw-cal-day'+(mb?" ui-body-c":"")+(l?" dw-sel":"")+(f?" "+f:"")+(m?" dw-cal-day-diff":"")+(k?" dw-cal-day-v dwb-e dwb-nhl":" dw-cal-day-inv")+'" data-date="'+(n-v+1)+'" data-full="'+i+'"'+(l?' aria-selected="true"':"")+(k?"":' aria-disabled="true"')+'><div class="dw-i'+(l&&mb?" ui-btn-active":"")+(k&&mb?' ui-btn-up-c ui-state-default ui-btn" data-theme="c">':'">')+'<div class="dw-cal-day-fg">'+(v>n?w+n:n>=u+v?n-u-v+1:n-v+1)+"</div>"+(j.markup||"")+'<div class="dw-cal-day-frame"></div></div></div>';return x+("</div>"+y+"</div></div>")}function i(b,c){J.text(I[c]),K.text(b),new Date(b,c-1,1)<L?a(".dw-cal-prev-m",x).addClass(qb).attr("aria-disabled","true"):a(".dw-cal-prev-m",x).removeClass(qb).removeAttr("aria-disabled"),new Date(b,c+1,1)>M?a(".dw-cal-next-m",x).addClass(qb).attr("aria-disabled","true"):a(".dw-cal-next-m",x).removeClass(qb).removeAttr("aria-disabled"),new Date(b-1,c,1)<L?a(".dw-cal-prev-y",x).addClass(qb).attr("aria-disabled","true"):a(".dw-cal-prev-y",x).removeClass(qb).removeAttr("aria-disabled"),new Date(b+1,c,1)>M?a(".dw-cal-next-y",x).addClass(qb).attr("aria-disabled","true"):a(".dw-cal-next-y",x).removeClass(qb).removeAttr("aria-disabled")}function k(){if(fb.calendar&&Q&&"calendar"===_){var c,d=b.getDate(!0);d.getFullYear()===R&&d.getMonth()===S?Q=d:d>Q&&bb?(c=1!==d.getMonth()-S,R=d.getFullYear(),S=d.getMonth(),n.call(this,R,S,"next",c)):Q>d&&bb&&(c=-1!==d.getMonth()-S,R=d.getFullYear(),S=d.getMonth(),n.call(this,R,S,"prev",c)),b.trigger("onDayHighlight",[d]),ib.highlight&&(a(".dw-cal .dw-sel",x).removeClass("dw-sel").removeAttr("aria-selected"),d=a('.dw-cal .dw-cal-day[data-full="'+R+"-"+S+"-"+d.getDate()+'"]',x).addClass("dw-sel").attr("aria-selected","true").parent(),a(".dw-cal-week-hl",x).removeClass("dw-cal-week-hl"),d&&d.addClass("dw-cal-week-hl"),mb&&(a(".dw-cal .ui-btn-active",x).removeClass("ui-btn-active"),a(".dw-cal .dw-sel .dw-i",x).addClass("ui-btn-active"))),bb=!0}}function l(a){a.length&&(a[0].style.display="run-in",setTimeout(function(){a[0].style.display=""},0))}function m(a,c,d,e){e||g(a,c),E.html(h(a,c-1)),F.html(d||h(a,c)),G.html(h(a,c+1)),b.needRefresh=!1}function n(d,e,f,j,k){if(d&&eb.push({y:d,m:e,dir:f,load:j}),!db){var l,m=eb.shift(),d=m.y,e=m.m,f=m.dir,j=m.load,m=new Date(d,e,1),d=m.getFullYear(),e=m.getMonth();db=!0,b.changing=!0,b.trigger("onMonthChange",[d,e]),g(d,e),j&&("next"==f?G.html(h(d,e)):E.html(h(d,e))),i(d,e),setTimeout(function(){s("next"==f?C-100:C+100,200,k),setTimeout(function(){F.removeClass("dw-cal-slide-a"),"next"==f?(t(E,+E.data("curr")+300),E.html(h(d,e+1)),j&&F.html(h(d,e-1)),l=E,E=F,F=G,G=l):(t(G,+G.data("curr")-300),G.html(h(d,e-1)),j&&F.html(h(d,e+1)),l=E,E=G,G=F,F=l),F.addClass("dw-cal-slide-a"),db=!1,eb.length?setTimeout(function(){n()},10):(R=d,S=e,Q=new Date(d,e,1),b.changing=!1,b.month=F,kb&&H.html(a(".dw-week-nr-c",F).html()),b.needRefresh&&b.refresh(),b.trigger("onMonthLoaded",[d,e]))},c?200:0)},10)}}function o(){var c=a(this),d=c.attr("data-date"),e=c.attr("data-full"),f=new Date(R,S,d),g=c.hasClass("dw-sel"),h=b.live,i=b.getDate(!0);!jb&&c.hasClass("dw-cal-day-diff")||!1===b.trigger("onDayChange",[a.extend(gb[e],{date:f,cell:this,selected:g})])||(ib.divergentDayChange||(bb=!1),b.setDate(new Date(R,S,d,i.getHours(),i.getMinutes(),i.getSeconds()),h,.2,!h,!0))}function p(a,b){var c=a.originalEvent,d=a.changedTouches;return d||c&&c.changedTouches?c?c.changedTouches[0]["page"+b]:d[0]["page"+b]:a["page"+b]}function q(){var b,c=0,d=0;(ob||pb)&&(a(".dwc",x).removeClass("dwc-h"),a.each(fb,function(a,e){b=e.outerWidth(!0),c=Math.max(c,b),d+=b}),ob||d>x.parent().width()?(_=a(".dw-cal-tabs .dw-sel",x).attr("data-control"),a(".dw",x).addClass("dw-cal-tabbed"),a(".dwc",x).addClass("dwc-h"),fb[_].removeClass("dwc-h"),"liquid"!==lb&&a(".dwcc",x).width(c)):(_="calendar",a(".dwcc",x).width("auto"),a(".dw",x).removeClass("dw-cal-tabbed")))}function r(){nb&&(I=ib.maxMonthWidth>a(".dw-cal-btnw",x).width()?ib.monthNamesShort:ib.monthNames,J.text(I[S]))}function s(a,b,e){B=Math.max(C-100,Math.min(a,C+100)),z[0].style[d+"Transition"]="all "+(b||0)+"ms"+(e||""),c?z[0].style[d+"Transform"]="translate3d("+B+"%,0,0)":z[0].style.left=B+"%",b&&(C=B)}function t(a,b){a.data("curr",b),c?a[0].style[d+"Transform"]="translate3d("+b+"%,0,0)":a[0].style.left=b+"%"}var u,v,w,x,y,z,A,B,C,D,E,F,G,H,I,J,K,L,M,N,O,P,Q,R,S,T,U,V,W,X,Y,Z,$,_="calendar",ab=this,bb=!0,cb=!1,db=!1,eb=[],fb={},gb={},hb=function(){};w=a.extend({},b.settings);var ib=a.extend(b.settings,e,w),jb=ib.showDivergentDays,kb=ib.weekCounter,lb=ib.layout||(/top|bottom/.test(ib.display)?"liquid":""),mb="jqm"==ib.theme,nb="yearMonth"==ib.navigation;w=ib.controls.join(",");var ob=(!0===ib.tabs||!1!==ib.tabs&&"liquid"==lb)&&1<ib.controls.length,pb=!ob&&void 0===ib.tabs&&"liquid"!==lb&&1<ib.controls.length,qb="dwb-d"+(mb?" ui-disabled":"");return w.match(/calendar/)&&(fb.calendar=1),w.match(/date/)&&(fb.date=1),w.match(/time/)&&(fb.time=1),fb.calendar&&fb.date&&(ob=!0,pb=!1),ib.preset=(fb.date||fb.calendar?"date":"")+(fb.time?"time":""),b.changing=!1,b.needRefresh=!1,b.getDayProps=hb,b.onGenMonth=hb,b.prepareObj=f,b.refresh=function(){b.isVisible()&&fb.calendar&&m(R,S)},w=a.mobiscroll.presets.datetime.call(this,b),Y=w.validate,a.extend(w,{onMarkupReady:function(d){x=d;var e,f,g="",h=ib.dateOrder.search(/m/i),i=ib.dateOrder.search(/y/i);if(Q=b.getDate(!0),R=Q.getFullYear(),S=Q.getMonth(),P=Q,I=ib.monthNames,ib.minDate?(L=new Date(ib.minDate.getFullYear(),ib.minDate.getMonth(),1),N=ib.minDate):N=L=new Date(ib.startYear,0,1),ib.maxDate?(M=new Date(ib.maxDate.getFullYear(),ib.maxDate.getMonth(),1),O=ib.maxDate):O=M=new Date(ib.endYear,11,31,23,59,59),d.addClass("dw-calendar"),c||d.addClass("dw-cal-no3d"),fb.date?fb.date=a(".dwc",x).eq(0):fb.calendar&&a(".dwc",x).eq(0).addClass("dwc-hh").hide(),fb.time&&(fb.time=a(".dwc",x).eq(1)),fb.calendar){for(f='<div class="dw-cal-btnw"><div class="dw-cal-prev dw-cal-prev-m dw-cal-btn dwb dwb-e"><a href="#" role="button" class="dw-cal-btn-txt"'+(mb?'data-role="button" data-icon="arrow-l" data-iconpos="notext"':"")+">"+ib.prevMonthText+"</a></div>"+(!nb&&h>i?'<span aria-live="assertive" class="dw-cal-year"></span>&nbsp;':"")+'<span aria-live="assertive" class="dw-cal-month"></span>'+(!nb&&i>h?'&nbsp;<span aria-live="assertive" class="dw-cal-year"></span>':"")+'<div class="dw-cal-next dw-cal-next-m dw-cal-btn dwb dwb-e"><a href="#" role="button" class="dw-cal-btn-txt"'+(mb?'data-role="button" data-icon="arrow-r" data-iconpos="notext"':"")+">"+ib.nextMonthText+"</a></div></div>",nb&&(g='<div class="dw-cal-btnw"><div class="dw-cal-prev dw-cal-prev-y dw-cal-btn dwb dwb-e"><a href="#" role="button" class="dw-cal-btn-txt"'+(mb?'data-role="button" data-icon="arrow-l" data-iconpos="notext"':"")+">"+ib.prevYearText+'</a></div><span aria-live="assertive" class="dw-cal-year"></span><div class="dw-cal-next dw-cal-next-y dw-cal-btn dwb dwb-e"><a href="#" role="button" class="dw-cal-btn-txt"'+(mb?'data-role="button" data-icon="arrow-r" data-iconpos="notext"':"")+">"+ib.nextYearText+"</a></div></div>"),D='<div class="dwc dw-cal-c"><div class="dw-cal'+(kb?" dw-weeks":"")+(jb?"":" dw-hide-diff")+(mb?" ui-body-"+ib.jqmBody:"")+'"><div class="dw-cal-header"><div class="dw-cal-btnc '+(nb?"dw-cal-btnc-ym":"dw-cal-btnc-m")+'">'+(h>i?g+f:f+g)+'</div><div class="dw-cal-days"><table cellpadding="0" cellspacing="0"><tr>',v=0;7>v;v++)D+="<th>"+ib.dayNamesShort[(v+ib.firstDay)%7]+"</th>";D+='</tr></table></div></div><div class="dw-cal-anim-c'+(mb?" ui-body-c":"")+'"><div class="dw-week-nrs-c'+(mb?" ui-body-a ui-body-c":"")+'"><div class="dw-week-nrs"></div></div><div class="dw-cal-anim"><div class="dw-cal-slide dw-cal-slide1"></div><div class="dw-cal-slide dw-cal-slide-a dw-cal-slide2"></div><div class="dw-cal-slide dw-cal-slide3"></div></div></div><div class="dw-cal-f"></div></div></div>',fb.calendar=a(D)}if(a.each(ib.controls,function(b,c){a(".dwcc",x).append(fb[c].attr("id",ab.id+"_dw_pnl_"+b))}),e='<div class="dw-cal-tabs"'+(mb?' data-role="navbar"':"")+'><ul role="tablist">',a.each(ib.controls,function(a,b){fb[b]&&(e+='<li role="tab" aria-controls="'+(ab.id+"_dw_pnl_"+a)+'" class="dwb-e dwb-nhl dw-cal-tab'+(a?"":" dw-sel")+'" data-control="'+b+'"'+(mb?"":' tabindex="0"')+"><"+(mb?'a href="#"':'span class="dw-i"')+(!a&&mb?' class="ui-btn-active"':"")+">"+ib[b+"Text"]+"</"+(mb?"a":"span")+"></li>")}),e+="</ul></div>",a(".dwcc",d).before(e),y=a(".dw-cal-anim-c",x),z=a(".dw-cal-anim",x),E=a(".dw-cal-slide1",x),F=a(".dw-cal-slide2",x).data("curr",0),G=a(".dw-cal-slide3",x),H=a(".dw-week-nrs",x),b.month=F,fb.calendar&&(t(E,-100),t(G,100)),J=a(".dw-cal-month",x),K=a(".dw-cal-year",x),m(R,S),H.html(a(".dw-week-nr-c",F).html()),y.on("touchstart mousedown",".dw-cal-day-v",function(a){if("touchstart"===a.type)cb=!0;else if(cb)return!1;Z=!1,T=p(a,"X"),U=p(a,"Y")}).on("touchmove mousemove",function(a){Math.abs(p(a,"Y")-U)>5&&(Z=!0)}).on("touchend",".dw-cal-day-v",function(a){!db&&!Z&&Math.abs(p(a,"X")-T)<20&&Math.abs(p(a,"Y")-U)<20&&o.call(this)}).on("click",".dw-cal-day-v",function(){!db&&!Z&&!cb&&o.call(this),cb=!1}),b.tap(a(".dw-cal-prev-m",x),function(){new Date(R,S-1,1)>=L&&eb.length<5&&n(R,--S,"prev")}),b.tap(a(".dw-cal-next-m",x),function(){new Date(R,S+1,1)<=M&&eb.length<5&&n(R,++S,"next")}),b.tap(a(".dw-cal-prev-y",x),function(){new Date(R-1,S,1)>=L&&eb.length<5&&(R--,n(R,S,"prev",!0))}),b.tap(a(".dw-cal-next-y",x),function(){new Date(R+1,S,1)<=M&&eb.length<5&&(R++,n(R,S,"next",!0))}),a(".dw-cal-tab",x).on("touchstart click",function(c){var d=a(this);if("touchstart"==c.type)d.data("click",!0);else if(d.data("click"))return void d.data("click",null);d.hasClass("dw-sel")||(_=d.attr("data-control"),a(".dwc",x).addClass("dwc-h"),a(".dw-cal-tab",x).removeClass("dw-sel").removeAttr("aria-selected"),d.addClass("dw-sel").attr("aria-selected","true"),"calendar"===_?(u=b.getDate(!0),(u.getFullYear()!==P.getFullYear()||u.getMonth()!==P.getMonth()||u.getDate()!==P.getDate())&&k()):P=b.getDate(!0),fb[_].removeClass("dwc-h"),l(a(".dwwc",fb[_])))}),"liquid"==lb&&"bubble"!==ib.display?d.addClass("dw-cal-liq"):ib.calendarWidth&&a(".dw-cal",x).width(ib.calendarWidth),ib.calendarHeight&&a(".dw-cal-anim-c",x).height(ib.calendarHeight),b.context.on("orientationchange.dw-cal resize.dw-cal",function(){clearTimeout(X),X=setTimeout(function(){pb&&q(),r(),b.trigger("onCalResize",[]),A=z.width()},100)}),B=C=0,ib.swipe){var j,w,Y,$,bb,gb,ob,qb,rb,sb=ib.liveSwipe,tb=window.requestAnimationFrame||function(a){a()},ub=window.cancelAnimationFrame||hb,vb=function(a){rb||db||(rb=!0,Y=new Date,C=B,T=p(a,"X"),U=p(a,"Y"))},wb=function(){bb=rb=!1,gb&&(gb=!1,ub(j),w=!1,$=new Date-Y,ob=300>$?-50>V-T:sb&&-40>B-C,(qb=300>$?V-T>50:sb&&B-C>40)&&new Date(R,S-1,1)>=L?n(R,--S,"prev",!1," ease-out"):ob&&new Date(R,S+1,1)<=M?n(R,++S,"next",!1," ease-out"):sb&&s(C,200,!1," ease-out"))},xb=function(a){db&&a.preventDefault(),rb&&(V=p(a,"X"),gb||bb||(W=p(a,"Y"),Math.abs(V-T)>10?gb=!0:!b.scrollLock&&Math.abs(W-U)>20&&(bb=!0)),gb&&a.preventDefault(),gb&&sb&&!w&&(w=!0,j=tb(yb)))},yb=function(){s(C+100*(V-T)/A),w=!1};y.on("touchstart",vb).on("touchmove",xb).on("touchend touchcancel",wb).on("mousedown",function(b){cb||(vb(b),a(document).on("mousemove.dwsw",xb).on("mouseup.dwsw",function(){wb(),a(document).off("dwsw")}))})}},onMarkupInserted:function(){q()},onShow:function(){r(),i(R,S),A=z.width()},onPosition:function(){if("liquid"==lb&&"modal"==ib.display){y.height("auto");var c=b.context[0].innerHeight||b.context.innerHeight(),d=a(".dw",x).outerHeight(),e=d-y.height();c>d&&y.height(c-e)}},onClose:function(){b.context.off(".dw-cal"),Q=null},validate:function(a,c){Y.call(this,a,c),b.trigger("onSetDate",[]),k()}}),w}}(jQuery),function(a){var b=a.mobiscroll,c={firstSelectDay:0,eventText:"event",eventsText:"events"};b.presetShort("calendar"),b.presets.calendar=function(e){function f(b){if(b){if(C[b])return C[b];var c=a('<div style="background-color:'+b+';"></div>').appendTo("body"),d=(window.getComputedStyle?getComputedStyle(c[0]):c[0].style).backgroundColor.replace(/rgb|rgba|\(|\)|\s/g,"").split(","),d=130<.299*d[0]+.587*d[1]+.114*d[2]?"#000":"#fff";return c.remove(),C[b]=d}}function g(b,c){var d=q[b.getTime()];if(d){var g,h;h=a(".dw-cal-c",n).height();var i=c.height(),j=c.width(),l=c.offset().top-a(".dw-cal-c",n).offset().top,m=2>c.closest(".dw-cal-row").index(),u='<ul class="dw-cal-event-list"'+(E?' data-role="listview"':"")+">";w=0,y=!1,p=c,c.addClass(F),a.each(d,function(a,b){g=b.color,f(g),u+='<li class="dw-cal-event"><div class="dw-cal-event-color" style="'+(g?"background:"+g+";":"")+'"></div>'+b.text+"</li>"}),u+="</ul>",s.html(u),E&&(a(".dw-i",p).addClass("ui-btn-active"),o.page().trigger("create")),h=o.addClass("dw-cal-events-t").css({top:m?l+i:"0",bottom:m?"0":h-l}).addClass("dw-cal-events-v").height(),v=h-s.height(),o.css(m?"bottom":"top","auto").removeClass("dw-cal-events-t"),r.css("max-height",h),k(0),m?o.addClass("dw-cal-events-b"):o.removeClass("dw-cal-events-b"),a(".dw-cal-events-arr",o).css("left",c.offset().left-o.offset().left+j/2),e.tap(a(".dw-cal-event",s),function(c){y||e.trigger("onEventSelect",[c,d[a(this).index()],b])}),t=!0}}function h(){o&&o.removeClass("dw-cal-events-v"),p&&(p.removeClass(F),E&&a(".dw-i",p).removeClass("ui-btn-active")),t=!1}function j(){L&&h(),e.changing?e.needRefresh=!0:e.refresh()}function k(a){b.util.has3d?s.css(b.util.prefix+"-transform","translateY("+a+"px)"):s.css("top",a)}function l(a,b){var c=a.originalEvent,d=a.changedTouches;return d||c&&c.changedTouches?c?c.changedTouches[0]["page"+b]:d[0]["page"+b]:a["page"+b]}var m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C={};x=a.extend({},e.settings);var D=a.extend(e.settings,c,x),E="jqm"==D.theme,F="dw-sel dw-cal-day-ev",G=D.multiSelect||"week"==D.selectType,H=D.markedDisplay,I=!0===D.events||!0===D.markedText,J=0,K=[],L=a.isArray(D.events),M=L?D.events.slice(0):[];
if(x=a.mobiscroll.presets.calbase.call(this,e),m=a.extend({},x),D.selectedValues)for(i=0;i<D.selectedValues.length;i++)d=D.selectedValues[i],e._selectedValues[d]=d;return L&&a.each(M,function(a,b){b._id=J++}),e.onGenMonth=function(a,b){q=e.prepareObj(M,a,b),u=e.prepareObj(D.marked,a,b)},e.getDayProps=function(a){var b=new Date,c=a.getTime(),a=G?void 0!==e._selectedValues[a]:L?c===b.setHours(0,0,0,0):void 0,d=u[c]?u[c][0]:!1,g=q[c]?q[c][0]:!1,b=d||g,c=d.text||(I&&g?q[c].length+" "+(1<q[c].length?D.eventsText:D.eventText):0),d=b.color,g=I&&c?f(d):"";return{marked:b,selected:a,cssClass:L&&a?"dw-cal-day-hl":"",markup:I&&c?'<div class="dw-cal-day-txt-c"><div class="dw-cal-day-txt'+(E?" ui-btn-up-b":"")+'" title="'+c+'"'+(d?' style="background:'+d+";color:"+g+';text-shadow:none;"':"")+">"+c+"</div></div>":b?'<div class="dw-cal-day-m"'+(d?' style="background-color:'+d+";border-color:"+d+" "+d+' transparent transparent"':"")+"></div>":""}},e.addValue=function(a){e._selectedValues[a]=a,j()},e.removeValue=function(a){delete e._selectedValues[a],j()},e.setValues=function(a){var b=0;for(e._selectedValues={},b;b<a.length;b++)e._selectedValues[a[b]]=a[b];j()},L&&(e.addEvent=function(b){var c=[],b=a.isArray(b)?b:[b];return a.each(b,function(a,b){b._id=J++,M.push(b),c.push(b._id)}),j(),c},e.removeEvent=function(b){b=a.isArray(b)?b:[b],a.each(b,function(b,c){a.each(M,function(a,b){return b._id===c?(M.splice(a,1),!1):void 0})}),j()},e.getEvents=function(){return M},e.setEvents=function(b){var c=[];return M=b.slice(0),a.each(M,function(a,b){b._id=J++,c.push(b._id)}),j(),c}),a.extend(x,{highlight:!G&&!L,divergentDayChange:!G,buttons:L?["cancel"]:D.buttons,onClear:function(){G&&(e._selectedValues={},e.refresh())},onBeforeShow:function(){L&&(e.getDate(!0),D.headerText=!1),D.counter&&G&&(D.headerText=function(){var b=0,c="week"==D.selectType?7:1;return a.each(e._selectedValues,function(){b++}),b/c+" "+D.selectedText})},onMarkupReady:function(b){m.onMarkupReady.call(this,b),n=b,G&&(a(".dwv",b).attr("aria-live","off"),K=a.extend({},e._selectedValues)),I&&a(".dw-cal",b).addClass("dw-cal-ev"),H&&a(".dw-cal",b).addClass("dw-cal-m-"+H),L&&(b.addClass("dw-cal-em"),o=a('<div class="dw-cal-events'+(E?' ui-body-a" data-role="page':"")+'"><div class="dw-cal-events-arr"></div><div class="dw-cal-events-i"><div class="dw-cal-events-sc"></div></div></div>').appendTo(a(".dw-cal-c",b)),r=a(".dw-cal-events-i",o),s=a(".dw-cal-events-sc",o),o.on("touchstart mousedown",function(b){0>v&&(A="touchstart"===b.type,y=!1,z=w,startY=l(b,"Y"),endY=l(b,"Y"),a(document).on(A?"touchmove.dwsc":"mousemove.dwsc",function(a){a.preventDefault(),endY=l(a,"Y"),w=Math.min(0,Math.max(z+endY-startY,v)),k(w),Math.abs(endY-startY)>5&&(y=!0)}).on(A?"touchend.dwsc":"mouseup.dwsc",function(){a(document).off(".dwsc")}))}),e.tap(o,function(){y||h()}))},onMonthChange:function(){L&&h()},onMonthLoaded:function(){B&&(g(B.d,a('.dw-cal-day-v[data-full="'+B.full+'"]',e.month)),B=!1)},onDayChange:function(b){var c=b.date,d=a(b.cell),b=b.selected;if(L)h(),d.hasClass("dw-cal-day-ev")||(d.hasClass("dw-cal-day-diff")?B={d:c,full:d.attr("data-full")}:g(c,d));else if(G)if("week"==D.selectType){var f,i=c.getDay()-D.firstSelectDay,i=0>i?7+i:i;for(D.multiSelect||(e._selectedValues={}),d=0;7>d;d++)f=new Date(c.getFullYear(),c.getMonth(),c.getDate()-i+d),b?delete e._selectedValues[f]:e._selectedValues[f]=f;j()}else d=a('.dw-cal .dw-cal-day[data-full="'+d.attr("data-full")+'"]',n),E&&a(".dw-i",d).toggleClass("ui-btn-active"),b?(d.removeClass("dw-sel").removeAttr("aria-selected"),delete e._selectedValues[c]):(d.addClass("dw-sel").attr("aria-selected","true"),e._selectedValues[c]=c);return L||D.multiSelect||!D.closeOnSelect||"inline"===D.display?void 0:(e.setDate(c),e.select(),!1)},onCalResize:function(){t&&a(".dw-cal-events-arr",o).css("left",p.offset().left-o.offset().left+p.width()/2)},onCancel:function(){!e.live&&G&&(e._selectedValues=a.extend({},K))}}),x}}(jQuery),function(a){var b=a.mobiscroll,c=new Date,d={dateFormat:"mm/dd/yy",dateOrder:"mmddy",timeWheels:"hhiiA",timeFormat:"hh:ii A",startYear:c.getFullYear()-100,endYear:c.getFullYear()+1,monthNames:"January,February,March,April,May,June,July,August,September,October,November,December".split(","),monthNamesShort:"Jan,Feb,Mar,Apr,May,Jun,Jul,Aug,Sep,Oct,Nov,Dec".split(","),dayNames:"Sunday,Monday,Tuesday,Wednesday,Thursday,Friday,Saturday".split(","),dayNamesShort:"Sun,Mon,Tue,Wed,Thu,Fri,Sat".split(","),shortYearCutoff:"+10",monthText:"Month",dayText:"Day",yearText:"Year",hourText:"Hours",minuteText:"Minutes",secText:"Seconds",ampmText:"&nbsp;",nowText:"Now",showNow:!1,stepHour:1,stepMinute:1,stepSecond:1,separator:" "},e=function(c){function e(a,b,c){return void 0!==x[b]?+a[x[b]]:void 0!==c?c:G[y[b]]?G[y[b]]():y[b](G)}function f(a,b,c,d){a.push({values:c,keys:b,label:d})}function g(a,b){return Math.floor(a/b)*b}function h(a){var b=e(a,"h",0);return new Date(e(a,"y"),e(a,"m"),e(a,"d",1),e(a,"a")?b+12:b,e(a,"i",0),e(a,"s",0))}function i(b,c){return a(".dw-li",b).index(a('.dw-li[data-val="'+c+'"]',b))}var j,k=a(this),l={};if(k.is("input")){switch(k.attr("type")){case"date":j="yy-mm-dd";break;case"datetime":j="yy-mm-ddTHH:ii:ssZ";break;case"datetime-local":j="yy-mm-ddTHH:ii:ss";break;case"month":j="yy-mm",l.dateOrder="mmyy";break;case"time":j="HH:ii:ss"}var m=k.attr("min"),k=k.attr("max");m&&(l.minDate=b.parseDate(j,m)),k&&(l.maxDate=b.parseDate(j,k))}var n,o,p,q,r,s,t,m=a.extend({},c.settings),u=a.extend(c.settings,d,l,m),v=0,k=[],w=[],x={},y={y:"getFullYear",m:"getMonth",d:"getDate",h:function(a){return a=a.getHours(),a=E&&a>=12?a-12:a,g(a,H)},i:function(a){return g(a.getMinutes(),I)},s:function(a){return g(a.getSeconds(),J)},a:function(a){return D&&11<a.getHours()?1:0}},z=u.preset,A=u.dateOrder,B=u.timeWheels,C=A.match(/D/),D=B.match(/a/i),E=B.match(/h/),F="datetime"==z?u.dateFormat+u.separator+u.timeFormat:"time"==z?u.timeFormat:u.dateFormat,G=new Date,H=u.stepHour,I=u.stepMinute,J=u.stepSecond,K=u.minDate||new Date(u.startYear,0,1),L=u.maxDate||new Date(u.endYear,11,31,23,59,59);if(j=j||F,z.match(/date/i)){for(a.each(["y","m","d"],function(a,b){n=A.search(RegExp(b,"i")),n>-1&&w.push({o:n,v:b})}),w.sort(function(a,b){return a.o>b.o?1:-1}),a.each(w,function(a,b){x[b.v]=a}),m=[],l=0;3>l;l++)if(l==x.y){for(v++,p=[],o=[],q=K.getFullYear(),r=L.getFullYear(),n=q;r>=n;n++)o.push(n),p.push(A.match(/yy/i)?n:(n+"").substr(2,2));f(m,o,p,u.yearText)}else if(l==x.m){for(v++,p=[],o=[],n=0;12>n;n++)q=A.replace(/[dy]/gi,"").replace(/mm/,9>n?"0"+(n+1):n+1).replace(/m/,n+1),o.push(n),p.push(q.match(/MM/)?q.replace(/MM/,'<span class="dw-mon">'+u.monthNames[n]+"</span>"):q.replace(/M/,'<span class="dw-mon">'+u.monthNamesShort[n]+"</span>"));f(m,o,p,u.monthText)}else if(l==x.d){for(v++,p=[],o=[],n=1;32>n;n++)o.push(n),p.push(A.match(/dd/i)&&10>n?"0"+n:n);f(m,o,p,u.dayText)}k.push(m)}if(z.match(/time/i)){for(t=!0,w=[],a.each(["h","i","s","a"],function(a,b){a=B.search(RegExp(b,"i")),a>-1&&w.push({o:a,v:b})}),w.sort(function(a,b){return a.o>b.o?1:-1}),a.each(w,function(a,b){x[b.v]=v+a}),m=[],l=v;v+4>l;l++)if(l==x.h){for(v++,p=[],o=[],n=0;(E?12:24)>n;n+=H)o.push(n),p.push(E&&0==n?12:B.match(/hh/i)&&10>n?"0"+n:n);f(m,o,p,u.hourText)}else if(l==x.i){for(v++,p=[],o=[],n=0;60>n;n+=I)o.push(n),p.push(B.match(/ii/)&&10>n?"0"+n:n);f(m,o,p,u.minuteText)}else if(l==x.s){for(v++,p=[],o=[],n=0;60>n;n+=J)o.push(n),p.push(B.match(/ss/)&&10>n?"0"+n:n);f(m,o,p,u.secText)}else l==x.a&&(v++,o=B.match(/A/),f(m,[0,1],o?["AM","PM"]:["am","pm"],u.ampmText));k.push(m)}return c.setDate=function(a,b,d,e){for(var f in x)c.temp[x[f]]=a[y[f]]?a[y[f]]():y[f](a);c.setValue(c.temp,b,d,e)},c.getDate=function(a){return h(a?c.temp:c.values)},c.convert=function(b){var c=b;return a.isArray(b)||(c=[],a.each(b,function(b,d){a.each(d,function(a,d){"daysOfWeek"===b&&(d.d?d.d="w"+d.d:d="w"+d),c.push(d)})})),c},c.format=F,c.buttons.now={text:u.nowText,css:"dwb-n",handler:function(){c.setDate(new Date,!1,.3,!0,!0)}},u.showNow&&u.buttons.splice(a.inArray("set",u.buttons)+1,0,"now"),s=u.invalid?c.convert(u.invalid):!1,{wheels:k,headerText:u.headerText?function(){return b.formatDate(F,h(c.temp),u)}:!1,formatResult:function(a){return b.formatDate(j,h(a),u)},parseValue:function(a){var c,a=b.parseDate(j,a,u),d=[];for(c in x)d[x[c]]=a[y[c]]?a[y[c]]():y[c](a);return d},validate:function(b,d,f,h){var j=c.temp,k={y:K.getFullYear(),m:0,d:1,h:0,i:0,s:0,a:0},l={y:L.getFullYear(),m:11,d:31,h:g(E?11:23,H),i:g(59,I),s:g(59,J),a:1},m={h:H,i:I,s:J,a:1},n=e(j,"y"),o=e(j,"m"),p=!0,q=!0;if(a.each("y,m,d,a,h,i,s".split(","),function(d,f){if(void 0!==x[f]){var g=k[f],m=l[f],r=31,t=e(j,f),v=a(".dw-ul",b).eq(x[f]);if("d"==f&&(m=r=32-new Date(n,o,32).getDate(),C&&a(".dw-li",v).each(function(){var b=a(this),c=b.data("val"),d=new Date(n,o,c).getDay(),c=A.replace(/[my]/gi,"").replace(/dd/,10>c?"0"+c:c).replace(/d/,c);a(".dw-i",b).html(c.match(/DD/)?c.replace(/DD/,'<span class="dw-day">'+u.dayNames[d]+"</span>"):c.replace(/D/,'<span class="dw-day">'+u.dayNamesShort[d]+"</span>"))})),p&&K&&(g=K[y[f]]?K[y[f]]():y[f](K)),q&&L&&(m=L[y[f]]?L[y[f]]():y[f](L)),"y"!=f){var w=i(v,g),z=i(v,m);a(".dw-li",v).removeClass("dw-v").slice(w,z+1).addClass("dw-v"),"d"==f&&a(".dw-li",v).removeClass("dw-h").slice(r).addClass("dw-h")}if(g>t&&(t=g),t>m&&(t=m),p&&(p=t==g),q&&(q=t==m),s&&"d"==f){for(var B,m=new Date(n,o,1).getDay(),w=[],g=0;g<s.length;g++)if(z=s[g],B=z+"",!z.start)if(z.getTime)z.getFullYear()==n&&z.getMonth()==o&&w.push(z.getDate()-1);else if(B.match(/w/i))for(B=+B.replace("w",""),z=B-m;r>z;z+=7)z>=0&&w.push(z);else B=B.split("/"),B[1]?B[0]-1==o&&w.push(B[1]-1):w.push(B[0]-1);a.each(w,function(b,c){a(".dw-li",v).eq(c).removeClass("dw-v")}),t=c.getValidCell(t,v,h).val}j[x[f]]=t}}),t&&s){var r,v,w,z,B,D,F,G,M,N,O,P,Q,R,S,T,U={},V=e(j,"d"),W=new Date(n,o,V),X=["a","h","i","s"];a.each(s,function(a,b){b.start&&(b.apply=!1,r=b.d,v=r+"",z=v.split("/"),r&&(r.getTime&&n==r.getFullYear()&&o==r.getMonth()&&V==r.getDate()||!v.match(/w/i)&&(z[1]&&V==z[1]&&o==z[0]-1||!z[1]&&V==z[0])||v.match(/w/i)&&W.getDay()==+v.replace("w","")))&&(b.apply=!0,U[W]=!0)}),a.each(s,function(d,f){if(f.start&&(f.apply||!f.d&&!U[W])){for(B=f.start.split(":"),D=f.end.split(":"),F=0;3>F;F++)void 0===B[F]&&(B[F]=0),void 0===D[F]&&(D[F]=59),B[F]=+B[F],D[F]=+D[F];B.unshift(11<B[0]?1:0),D.unshift(11<D[0]?1:0),E&&(12<=B[1]&&(B[1]-=12),12<=D[1]&&(D[1]-=12)),Q=P=!0,a.each(X,function(d,f){if(void 0!==x[f]){for(w=e(j,f),N=T=S=0,O=void 0,R=a(".dw-ul",b).eq(x[f]),F=d+1;4>F;F++)B[F]>0&&(S=m[f]),D[F]<l[X[F]]&&(T=m[f]);G=g(B[d]+S,m[f]),M=g(D[d]-T,m[f]),P&&(N=0>G?0:G>l[f]?a(".dw-li",R).length:i(R,G)+0),Q&&(O=0>M?0:M>l[f]?a(".dw-li",R).length:i(R,M)+1),(P||Q)&&a(".dw-li",R).slice(N,O).removeClass("dw-v"),w=c.getValidCell(w,R,h).val,P=P&&w==g(B[d],m[f]),Q=Q&&w==g(D[d],m[f]),j[x[f]]=w}})}})}}}};a.each(["date","time","datetime"],function(a,c){b.presets[c]=e,b.presetShort(c)}),b.formatDate=function(b,c,e){if(!c)return null;var f,e=a.extend({},d,e),g=function(a){for(var c=0;f+1<b.length&&b.charAt(f+1)==a;)c++,f++;return c},h=function(a,b,c){if(b=""+b,g(a))for(;b.length<c;)b="0"+b;return b},i=function(a,b,c,d){return g(a)?d[b]:c[b]},j="",k=!1;for(f=0;f<b.length;f++)if(k)"'"!=b.charAt(f)||g("'")?j+=b.charAt(f):k=!1;else switch(b.charAt(f)){case"d":j+=h("d",c.getDate(),2);break;case"D":j+=i("D",c.getDay(),e.dayNamesShort,e.dayNames);break;case"o":j+=h("o",(c.getTime()-new Date(c.getFullYear(),0,0).getTime())/864e5,3);break;case"m":j+=h("m",c.getMonth()+1,2);break;case"M":j+=i("M",c.getMonth(),e.monthNamesShort,e.monthNames);break;case"y":j+=g("y")?c.getFullYear():(10>c.getYear()%100?"0":"")+c.getYear()%100;break;case"h":var l=c.getHours(),j=j+h("h",l>12?l-12:0==l?12:l,2);break;case"H":j+=h("H",c.getHours(),2);break;case"i":j+=h("i",c.getMinutes(),2);break;case"s":j+=h("s",c.getSeconds(),2);break;case"a":j+=11<c.getHours()?"pm":"am";break;case"A":j+=11<c.getHours()?"PM":"AM";break;case"'":g("'")?j+="'":k=!0;break;default:j+=b.charAt(f)}return j},b.parseDate=function(b,c,e){var f=a.extend({},d,e),e=f.defaultValue||new Date;if(!b||!c)return e;var g,c="object"==typeof c?c.toString():c+"",h=f.shortYearCutoff,i=e.getFullYear(),j=e.getMonth()+1,k=e.getDate(),l=-1,m=e.getHours(),n=e.getMinutes(),o=0,p=-1,q=!1,r=function(a){return(a=g+1<b.length&&b.charAt(g+1)==a)&&g++,a},s=function(a){return r(a),(a=c.substr(u).match(RegExp("^\\d{1,"+("@"==a?14:"!"==a?20:"y"==a?4:"o"==a?3:2)+"}")))?(u+=a[0].length,parseInt(a[0],10)):0},t=function(a,b,d){for(a=r(a)?d:b,b=0;b<a.length;b++)if(c.substr(u,a[b].length).toLowerCase()==a[b].toLowerCase())return u+=a[b].length,b+1;return 0},u=0;for(g=0;g<b.length;g++)if(q)"'"!=b.charAt(g)||r("'")?u++:q=!1;else switch(b.charAt(g)){case"d":k=s("d");break;case"D":t("D",f.dayNamesShort,f.dayNames);break;case"o":l=s("o");break;case"m":j=s("m");break;case"M":j=t("M",f.monthNamesShort,f.monthNames);break;case"y":i=s("y");break;case"H":m=s("H");break;case"h":m=s("h");break;case"i":n=s("i");break;case"s":o=s("s");break;case"a":p=t("a",["am","pm"],["am","pm"])-1;break;case"A":p=t("A",["am","pm"],["am","pm"])-1;break;case"'":r("'")?u++:q=!0;break;default:u++}if(100>i&&(i+=(new Date).getFullYear()-(new Date).getFullYear()%100+(i<=("string"!=typeof h?h:(new Date).getFullYear()%100+parseInt(h,10))?0:-100)),l>-1)for(j=1,k=l;;){if(f=32-new Date(i,j-1,32).getDate(),f>=k)break;j++,k-=f}return m=new Date(i,j-1,k,-1==p?m:p&&12>m?m+12:p||12!=m?m:0,n,o),m.getFullYear()!=i||m.getMonth()+1!=j||m.getDate()!=k?e:m}}(jQuery),function(a){var b=a.mobiscroll,c={invalid:[],showInput:!0,inputClass:""},d=function(b){function d(b,c,d,f){for(var g=0;c>g;){var h=a(".dwwl"+g,b),i=e(f,g,d);a.each(i,function(b,c){a('.dw-li[data-val="'+c+'"]',h).removeClass("dw-v")}),g++}}function e(a,b,c){for(var d,e=0,f=[];b>e;){var g=a[e];for(d in c)if(c[d].key==g){c=c[d].children;break}e++}for(e=0;e<c.length;)c[e].invalid&&f.push(c[e].key),e++;return f}function f(a,b){for(var c=[];a;)c[--a]=!0;return c[b]=!1,c}function g(a,b,c){var d,e,f=0,g=[],i=t;if(b)for(d=0;b>d;d++)g[d]=[{}];for(;f<a.length;){d=g;for(var b=f,j=i,k={keys:[],values:[],label:u[f]},l=0;l<j.length;)k.values.push(j[l].value),k.keys.push(j[l].key),l++;for(d[b]=[k],d=0,b=void 0;d<i.length&&void 0===b;)i[d].key==a[f]&&(void 0!==c&&c>=f||void 0===c)&&(b=d),d++;if(void 0!==b&&i[b].children)f++,i=i[b].children;else{if(!(e=h(i))||!e.children)break;f++,i=e.children}}return g}function h(a,b){if(!a)return!1;for(var c,d=0;d<a.length;)if(!(c=a[d++]).invalid)return b?d-1:c;return!1}function i(b,c){a(".dwc",b).css("display","").slice(c).hide()}function j(a,b){var c,d,e=[],f=t,g=0,i=!1;if(void 0!==a[g]&&b>=g)for(i=0,c=a[g],d=void 0;i<f.length&&void 0===d;)f[i].key==a[g]&&!f[i].invalid&&(d=i),i++;else d=h(f,!0),c=f[d].key;for(i=void 0!==d?f[d].children:!1,e[g]=c;i;){if(f=f[d].children,g++,void 0!==a[g]&&b>=g)for(i=0,c=a[g],d=void 0;i<f.length&&void 0===d;)f[i].key==a[g]&&!f[i].invalid&&(d=i),i++;else d=h(f,!0),d=!1===d?void 0:d,c=f[d].key;i=void 0!==d&&h(f[d].children)?f[d].children:!1,e[g]=c}return{lvl:g+1,nVector:e}}function k(b){var c=[];return q=q>r++?q:r,b.children("li").each(function(b){var d=a(this),e=d.clone();e.children("ul,ol").remove();var e=e.html().replace(/^\s\s*/,"").replace(/\s\s*$/,""),f=d.data("invalid")?!0:!1,b={key:d.data("val")||b,value:e,invalid:f,children:null},d=d.children("ul,ol");d.length&&(b.children=k(d)),c.push(b)}),r--,c}var l,m,n=a.extend({},b.settings),o=a.extend(b.settings,c,n),p=a(this),n=this.id+"_dummy",q=0,r=0,s={},t=o.wheelArray||k(p),u=function(a){var b,c=[];for(b=0;a>b;b++)c[b]=o.labels&&o.labels[b]?o.labels[b]:b;return c}(q),v=[],w=function(a){var b,c=[];b=!0;for(var d=0;b;)b=h(a),c[d++]=b.key,(b=b.children)&&(a=b);return c}(t),x=g(w,q);return a("#"+n).remove(),o.showInput&&(l=a('<input type="text" id="'+n+'" value="" class="'+o.inputClass+'" readonly />').insertBefore(p),o.anchor=l,b.attachShow(l)),o.wheelArray||p.hide().closest(".ui-field-contain").trigger("create"),{width:50,wheels:x,headerText:!1,parseValue:function(){return o.defaultValue||w},onBeforeShow:function(){var a=b.temp;v=a.slice(0),o.wheels=g(a,q,q),m=!0},onSelect:function(a){l&&l.val(a)},onChange:function(a,b){l&&b.live&&l.val(a)},onShow:function(b){a(".dwwl",b).on("mousedown touchstart",function(){clearTimeout(s[a(".dwwl",b).index(this)])})},onDestroy:function(){l&&l.remove(),p.show()},validate:function(a,c,e,h){var k,l=[],n=b.temp,p=(c||0)+1;if(void 0!==c&&v[c]!=n[c]||void 0===c&&!m){for(o.wheels=g(n,null,c),k=j(n,c),void 0!==c&&(b.temp=k.nVector.slice(0));p<k.lvl;)l.push(p++);if(l.length)return o.readonly=f(q,c),clearTimeout(s[c]),s[c]=setTimeout(function(){m=!0,i(a,k.lvl),v=b.temp.slice(0),b.changeWheel(l,void 0===c?e:0,h),o.readonly=!1},void 0===c?0:1e3*e),!1;d(a,k.lvl,t,b.temp)}else k=j(n,n.length),d(a,k.lvl,t,n),i(a,k.lvl);m=!1}}};a.each(["list","image","treelist"],function(a,c){b.presets[c]=d,b.presetShort(c)})}(jQuery),function(a){var b=a.mobiscroll,c={fromText:"Start",toText:"End"};b.presetShort("rangepicker"),b.presets.rangepicker=function(d){function e(a,b){a.setFullYear(b.getFullYear()),a.setMonth(b.getMonth()),a.setDate(b.getDate())}function f(){m=q,n=r,o=s,p=t,z.startInput&&a(z.startInput).val(n).change(),z.endInput&&a(z.endInput).val(p).change()}var g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x=0;k=new Date;var y=a.extend({},d.settings),z=a.extend(d.settings,c,y),A="jqm"===z.theme,B=z.defaultValue||[new Date(k.setHours(0,0,0,0)),new Date(k.setHours(23,59,59,999))];return k=a.mobiscroll.presets.calbase.call(this,d),h=a.extend({},k),j=d.format,u="time"===z.controls.join(""),z.startInput&&(v=a(z.startInput).prop("readonly"),d.attachShow(a(z.startInput).prop("readonly",!0),function(){x=0})),z.endInput&&(w=a(z.endInput).prop("readonly"),d.attachShow(a(z.endInput).prop("readonly",!0),function(){x=1})),d._setValue||(d._setValue=d.setValue),d.setValue=function(a,c,e,f){var g=a;a[0]&&a[0].getTime&&(q=a[0],r=b.formatDate(j,q,z),x||(g=h.parseValue(r))),a[1]&&a[1].getTime&&(s=a[1],t=b.formatDate(j,s,z),x&&(g=h.parseValue(t))),f||(m=q,n=r,o=s,p=t),d._setValue.call(this,g,c,e,f)},d.getValue=function(){return[m,o]},d.getDayProps=function(a){var b=new Date(q.getFullYear(),q.getMonth(),q.getDate()),c=new Date(s.getFullYear(),s.getMonth(),s.getDate());return{selected:a>=b&&s>=a,cssClass:!x&&b.getTime()===a.getTime()||x&&c.getTime()===a.getTime()?"dw-cal-day-hl":""}},a.extend(k,{highlight:!1,divergentDayChange:!1,formatResult:function(){return r+(z.endInput?"":" - "+t)},parseValue:function(c){return c=c.split(" - "),z.defaultValue=B[1],o=z.endInput?b.parseDate(j,a(z.endInput).val(),z):b.parseDate(j,c[1],z),z.defaultValue=B[0],m=z.startInput?b.parseDate(j,a(z.startInput).val(),z):b.parseDate(j,c[0],z),z.defaultValue=B[x],n=b.formatDate(j,m,z),p=b.formatDate(j,o,z),h.parseValue(x?p:n,d)},onChange:function(){d.live&&f()},onSelect:function(){f()},onClear:function(){z.startInput&&a(z.startInput).val(""),z.endInput&&a(z.endInput).val("")},onBeforeShow:function(){z.headerText=!1,z.counter&&(z.headerText=function(){return Math.round((new Date(t).getTime()-new Date(r).getTime())/864e5)+1+" "+z.selectedText}),q=m,r=n,s=o,t=p,l=!0},onMarkupReady:function(b){var c;i=b,h.onMarkupReady.call(this,b),b.addClass("dw-rangepicker"),c='<div class="dw-dr-t" role="radiogroup"><div class="dw-dr-c dw-dr0"><a href="#" role="radio" data-role="button" data-mini="true" class="dwb-e dwb-nhl dw-i dw-dr">'+z.fromText+'<div class="dw-drv dw-drv0">'+n+'</div></a></div><div class="dw-dr-c dw-dr1"><a href="#" role="radio" data-role="button" data-mini="true" class="dwb-e dwb-nhl dw-i dw-dr">'+z.toText+'<div class="dw-drv dw-drv1">'+p+"</div></a></div></div>",a(".dw-cal-tabs",b).before(c),g=a(".dw-dr"+x,b).addClass("dw-sel").attr("aria-checked","true"),A&&a(".dw-dr",g).addClass("ui-btn-active"),a(".dw-dr-c",b).on("touchstart click",function(b){var c=a(this);if("touchstart"==b.type)c.data("click",!0);else if(c.data("click"))return void c.data("click",null);c.hasClass("dw-sel")||(x=c.index(),g.removeClass("dw-sel").removeAttr("aria-checked"),g=c.addClass("dw-sel").attr("aria-checked","true"),A&&(a(".dw-dr",i).removeClass("ui-btn-active"),a(".dw-dr",g).addClass("ui-btn-active")),b=x?s:q,a(".dw-cal-table .dw-sel",i).removeClass("dw-cal-day-hl"),a('.dw-cal-day[data-full="'+b.getFullYear()+"-"+b.getMonth()+"-"+b.getDate()+'"]',i).addClass("dw-cal-day-hl"),l=!0,d.setDate(b,!1,.2,!0))})},onSetDate:function(){if(!l){var c,f,g,k=0;for(c=h.formatResult.call(this,d.temp),f=d.getDate(!0),a(".dw-drv"+x,i).text(c),x?(s=f,t=c):(q=f,r=c),u&&(e(q,f),e(s,f)),q>s&&(x?(q=new Date(s.getTime()),q.setHours(0,0,0,0),r=b.formatDate(j,q,z),a(".dw-drv0",i).text(r)):(s=new Date(q.getTime()),s.setHours(23,59,59,999),t=b.formatDate(j,s,z),a(".dw-drv1",i).text(t))),c=new Date(q),f=new Date(s),g=x?f:c,a(".dw-cal-table .dw-sel",i).removeClass("dw-sel dw-cal-day-hl").removeAttr("aria-selected"),a('.dw-cal-day[data-full="'+g.getFullYear()+"-"+g.getMonth()+"-"+g.getDate()+'"]',i).addClass("dw-cal-day-hl"),A&&a(".dw-cal-table .ui-btn-active",i).removeClass("ui-btn-active");f>=c&&84>k;)a('.dw-cal-day[data-full="'+g.getFullYear()+"-"+g.getMonth()+"-"+g.getDate()+'"]',i).addClass("dw-sel").attr("aria-selected","true").find(".dw-i").addClass(A?"ui-btn-active":""),g.setDate(g.getDate()+(x?-1:1)),k++}l=!1},onDestroy:function(){a(z.startInput).prop("readonly",v),a(z.endInput).prop("readonly",w)}}),k}}(jQuery),function(a){var b={inputClass:"",values:5,order:"desc",style:"star",invalid:[]};a.mobiscroll.presetShort("rating"),a.mobiscroll.presets.rating=function(c){var d=a.extend({},c.settings),e=a.extend(c.settings,b,d),f=a(this),d=this.id+"_dummy";a('label[for="'+this.id+'"]').attr("for",d);var g,h,i,j,k,l,m=a('label[for="'+d+'"]'),n=[[]],m={keys:[],values:[],labels:[],label:void 0!==e.label?e.label:m.length?m.text():f.attr("name")},o={},p=[],q=!1,r="grade"===e.style?"circle":"star";if(f.is("select")&&(e.values={},a("option",f).each(function(){e.values[a(this).val()]=a(this).text()}),a("#"+d).remove()),a.isArray(e.values))for(h=0;h<e.values.length;h++)j=+e.values[h],isNaN(j)&&(j=h+1,q=!0),p.push({order:j,key:e.values[h],value:e.values[h]});else if(a.isPlainObject(e.values))for(i in h=1,q=!0,e.values)j=+i,isNaN(j)&&(j=h),p.push({order:j,key:i,value:e.values[i]}),h++;else for(h=1;h<=e.values;h++)p.push({order:h,key:h,value:h});for(void 0===e.showText&&q&&(e.showText=!0),p.sort(function(a,b){return"desc"==e.order?b.order-a.order:a.order-b.order}),l="desc"==e.order?p[0].order:p[p.length-1].order,h=0;h<p.length;h++){for(order=p[h].order,j=p[h].key,k=p[h].value,q="",i=1;order+1>i;i++)q+='<div class="rating-star-cont"><div class="rating-'+r+" rating-filled-"+r+'">'+("circle"==r?i:"")+"</div></div>";for(i=order+1;l>=i;i++)q+='<div class="rating-star-cont"><div class="rating-'+r+" rating-unfilled-"+r+'"></div></div>';q+=e.showText?" "+k:"",m.keys.push(j),m.values.push(q),m.labels.push(k),o[j]=k}return f.is("select")&&(g=a('<input type="text" id="'+d+'" value="'+o[f.val()]+'" class="'+e.inputClass+'" readonly />').insertBefore(f)),n[0].push(m),g&&c.attachShow(g),f.is("select")&&f.hide().closest(".ui-field-contain").trigger("create"),{height:"wp"===e.theme||"wp light"===e.theme?76:40,anchor:g,wheels:n,headerText:!1,formatResult:function(a){return o[a[0]]},parseValue:function(){var a,b=e.defaultValue;for(a in o)if(void 0===b&&(b=a),g&&a==f.val()||!g&&o[a]==f.val())return[a];return[b]},validate:function(b){a.each(e.invalid,function(c,d){a('.dw-li[data-val="'+d+'"]',b).removeClass("dw-v")})},onMarkupReady:function(a){a.addClass("dw-rating")},onSelect:function(a,b){g&&(g.val(a),f.val(b.values[0]).change())},onChange:function(a,b){g&&b.live&&(g.val(a),f.val(b.values[0]).change())},onDestroy:function(){g&&g.remove(),f.show()}}}}(jQuery),function(a){var b={inputClass:"",invalid:[],rtl:!1,group:!1,groupLabel:"Groups"};a.mobiscroll.presetShort("select"),a.mobiscroll.presets.select=function(c){function d(){var b,c=0,d=[],e=[],f=[[]];return i.group?(i.rtl&&(c=1),a("optgroup",j).each(function(b){d.push(a(this).attr("label")),e.push(b)}),f[c]=[{values:d,keys:e,label:i.groupLabel}],b=m,c+=i.rtl?-1:1):b=j,d=[],e=[],a("option",b).each(function(){var b=a(this).attr("value");d.push(a(this).text()),e.push(b),a(this).prop("disabled")&&v.push(b)}),f[c]=[{values:d,keys:e,label:u}],f}function e(a,b){var d=[];if(k){var e=[],f=0;for(f in c._selectedValues)e.push(x[f]),d.push(f);s.val(e.join(", "))}else s.val(a),d=b?c.values[q]:null;b&&(g=!0,j.val(d).change())}function f(a){if(k&&a.hasClass("dw-v")&&a.closest(".dw").find(".dw-ul").index(a.closest(".dw-ul"))==q){var b=a.attr("data-val");return a.hasClass("dw-msel")?(a.removeClass("dw-msel").removeAttr("aria-selected"),delete c._selectedValues[b]):(a.addClass("dw-msel").attr("aria-selected","true"),c._selectedValues[b]=b),c.live&&e(b,!0),!1}}var g,h=a.extend({},c.settings),i=a.extend(c.settings,b,h),j=a(this),k=j.prop("multiple"),h=this.id+"_dummy",l=k?j.val()?j.val()[0]:a("option",j).attr("value"):j.val(),m=j.find('option[value="'+l+'"]').parent(),n=m.index()+"",o=n;a('label[for="'+this.id+'"]').attr("for",h);var p,q,r,s,t=a('label[for="'+h+'"]'),u=void 0!==i.label?i.label:t.length?t.text():j.attr("name"),v=[],w=[],x={},y=i.readonly;for(i.group&&!a("optgroup",j).length&&(i.group=!1),i.invalid.length||(i.invalid=v),i.group?i.rtl?(p=1,q=0):(p=0,q=1):(p=-1,q=0),a("#"+h).remove(),s=a('<input type="text" id="'+h+'" class="'+i.inputClass+'" readonly />').insertBefore(j),a("option",j).each(function(){x[a(this).attr("value")]=a(this).text()}),c.attachShow(s),h=j.val()||[],t=0;t<h.length;t++)c._selectedValues[h[t]]=h[t];return e(x[l]),j.off(".dwsel").on("change.dwsel",function(){g||c.setValue(k?j.val()||[]:[j.val()],!0),g=!1}).addClass("dw-hsel").attr("tabindex",-1).closest(".ui-field-contain").trigger("create"),c._setValue||(c._setValue=c.setValue),c.setValue=function(b,f,g,h,p){var r=a.isArray(b)?b[0]:b;if(l=void 0!==r?r:a("option",j).attr("value"),k)for(c._selectedValues={},r=0;r<b.length;r++)c._selectedValues[b[r]]=b[r];i.group?(m=j.find('option[value="'+l+'"]').parent(),o=m.index(),b=i.rtl?[l,m.index()]:[m.index(),l],o!==n&&(i.wheels=d(),c.changeWheel([q]),n=o+"")):b=[l],c._setValue(b,f,g,h,p),f&&(f=k?!0:l!==j.val(),e(x[l],f))},c.getValue=function(a){return(a?c.temp:c.values)[q]},{width:50,wheels:void 0,headerText:!1,multiple:k,anchor:s,formatResult:function(a){return x[a[q]]},parseValue:function(){var b=j.val()||[],d=0;if(k)for(c._selectedValues={},d;d<b.length;d++)c._selectedValues[b[d]]=b[d];return l=k?j.val()?j.val()[0]:a("option",j).attr("value"):j.val(),m=j.find('option[value="'+l+'"]').parent(),o=m.index(),n=o+"",i.group&&i.rtl?[l,o]:i.group?[o,l]:[l]},validate:function(b,e,f){if(void 0===e&&k){var g=c._selectedValues,h=0;a(".dwwl"+q+" .dw-li",b).removeClass("dw-msel").removeAttr("aria-selected");for(h in g)a(".dwwl"+q+' .dw-li[data-val="'+g[h]+'"]',b).addClass("dw-msel").attr("aria-selected","true")}if(e===p)if(o=c.temp[p],o!==n){if(m=j.find("optgroup").eq(o),o=m.index(),l=(l=m.find("option").eq(0).val())||j.val(),i.wheels=d(),i.group)return c.temp=i.rtl?[l,o]:[o,l],i.readonly=[i.rtl,!i.rtl],clearTimeout(r),r=setTimeout(function(){c.changeWheel([q],void 0,!0),i.readonly=y,n=o+""},1e3*f),!1}else i.readonly=y;else l=c.temp[q];var s=a(".dw-ul",b).eq(q);a.each(i.invalid,function(b,c){a('.dw-li[data-val="'+c+'"]',s).removeClass("dw-v")})},onBeforeShow:function(){k&&i.counter&&(i.headerText=function(){var b=0;return a.each(c._selectedValues,function(){b++}),b+" "+i.selectedText}),i.wheels=d(),i.group&&(c.temp=i.rtl?[l,m.index()]:[m.index(),l])},onClear:function(b){c._selectedValues={},s.val(""),a(".dwwl"+q+" .dw-li",b).removeClass("dw-msel").removeAttr("aria-selected")},onMarkupReady:function(b){b.addClass("dw-select"),a(".dwwl"+p,b).on("mousedown touchstart",function(){clearTimeout(r)}),k&&(b.addClass("dwms"),a(".dwwl",b).eq(q).addClass("dwwms").attr("aria-multiselectable","true"),a(".dwwl",b).on("keydown",function(b){32==b.keyCode&&(b.preventDefault(),b.stopPropagation(),f(a(".dw-sel",this)))}),w=a.extend({},c._selectedValues))},onValueTap:f,onSelect:function(a){e(a,!0),i.group&&(c.values=null)},onCancel:function(){i.group&&(c.values=null),!c.live&&k&&(c._selectedValues=a.extend({},w))},onChange:function(a){c.live&&!k&&(s.val(a),g=!0,j.val(c.temp[q]).change())},onDestroy:function(){s.remove(),j.removeClass("dw-hsel").removeAttr("tabindex")}}}}(jQuery),function(a){var b={defaults:{dateOrder:"Mddyy",mode:"mixed",rows:5,minWidth:70,height:36,showLabel:!1,useShortLabels:!0}};a.mobiscroll.themes["android-ics"]=b,a.mobiscroll.themes["android-ics light"]=b}(jQuery),function(a){a.mobiscroll.themes.ios={defaults:{dateOrder:"MMdyy",rows:5,height:30,minWidth:55,headerText:!1,showLabel:!1,btnWidth:!1,useShortLabels:!0}}}(jQuery),function(a){a.mobiscroll.themes.ios7={defaults:{dateOrder:"MMdyy",rows:5,height:34,minWidth:55,headerText:!1,showLabel:!1,btnWidth:!1,useShortLabels:!0}}}(jQuery),function(a){var b;a.mobiscroll.themes.wp={defaults:{minWidth:70,height:76,accent:"none",dateOrder:"mmMMddDDyy",headerText:!1,showLabel:!1,btnWidth:!1,onAnimStart:function(c,d,e){a(".dwwl"+d,c).addClass("wpam"),clearTimeout(b[d]),b[d]=setTimeout(function(){a(".dwwl"+d,c).removeClass("wpam")},1e3*e+100)}},load:function(a,b){if(a&&a.dateOrder&&!b.dateOrder){var c=a.dateOrder,c=c.match(/mm/i)?c.replace(/mmMM|mm|MM/,"mmMM"):c.replace(/mM|m|M/,"mM"),c=c.match(/dd/i)?c.replace(/ddDD|dd|DD/,"ddDD"):c.replace(/dD|d|D/,"dD");b.dateOrder=c}},init:function(c,d){var e,f;b={},a(".dw",c).addClass("wp-"+d.settings.accent),a(".dwwl",c).on("touchstart mousedown DOMMouseScroll mousewheel",".dw-sel",function(){e=!0,f=a(this).closest(".dwwl").hasClass("wpa"),a(".dwwl",c).removeClass("wpa"),a(this).closest(".dwwl").addClass("wpa")}).on("touchmove mousemove",function(){e=!1}).on("touchend mouseup",function(){e&&f&&a(this).closest(".dwwl").removeClass("wpa")})}},a.mobiscroll.themes["wp light"]=a.mobiscroll.themes.wp}(jQuery),angular.module("p20ContextSensingApp",["ngAnimate","ngCookies","ngResource","ngRoute","ngSanitize","ngTouch"]).config(["$routeProvider",function(a){a.when("/",{templateUrl:"views/main.html",controller:"MainCtrl"}).when("/about",{templateUrl:"views/about.html",controller:"AboutCtrl"}).when("/morning",{templateUrl:"views/morning.html",controller:"MorningCtrl"}).when("/evening",{templateUrl:"views/evening.html",controller:"EveningCtrl"}).when("/evening2",{templateUrl:"views/evening2.html",controller:"Evening2Ctrl"}).when("/evening3",{templateUrl:"views/evening3.html",controller:"Evening3Ctrl"}).when("/evening4",{templateUrl:"views/evening4.html",controller:"Evening4Ctrl"}).when("/completedSurvey",{templateUrl:"views/completedsurvey.html",controller:"CompletedsurveyCtrl"}).when("/mockups",{templateUrl:"views/mockups.html",controller:"MockupsCtrl"}).when("/location_finder",{templateUrl:"views/location_finder.html",controller:"LocationFinderCtrl"}).when("/about",{templateUrl:"views/about.html",controller:"AboutCtrl"}).otherwise({redirectTo:"/"})}]),angular.module("p20ContextSensingApp").controller("MainCtrl",["$scope","$location",function(a,b){a.showHome=!0,a.userExists=void 0==localStorage.getItem("userId")?!1:!0,$("input[type='time']").mobiscroll().time({theme:"android-ics"}),a.createUser=function(){localStorage.setItem("userId",$("input[name=userId").val()),localStorage.setItem("amPromptTime",$("input[name=amprompttime").val()),localStorage.setItem("pmPromptTime",$("input[name=pmprompttime").val());var a=new Date,c=new Date,d=new Date,e=new Date;a.setHours($("input[name=amprompttime").val().split(":")[0]),a.setMinutes($("input[name=amprompttime").val().split(":")[1]),c.setHours($("input[name=pmprompttime").val().split(":")[0]),c.setMinutes($("input[name=pmprompttime").val().split(":")[1]),d.setHours($("input[name=amprompttime").val().split(":")[0]),d.setMinutes(parseInt($("input[name=amprompttime").val().split(":")[1])+1),e.setHours($("input[name=pmprompttime").val().split(":")[0]),e.setMinutes(parseInt($("input[name=pmprompttime").val().split(":")[1])+1),console.log(a,c);
var f=new PurpleRobot,g=f.showNativeDialog({title:"P20",message:"Can you answer a few questions?",buttonLabelA:"Yes",scriptA:f.launchApplication("edu.northwestern.cbits.p20cs"),buttonLabelB:"No",scriptB:f.emitToast("Thanks, we will check in later!"),tag:"p20d",priority:3});(new PurpleRobot).updateTrigger({script:g,startAt:a,endAt:d}).execute(),(new PurpleRobot).updateTrigger({script:g,startAt:c,endAt:e}).execute(),b.path("#/")}}]),angular.module("p20ContextSensingApp").controller("AboutCtrl",["$scope",function(a){a.awesomeThings=["HTML5 Boilerplate","AngularJS","Karma"]}]),angular.module("p20ContextSensingApp").controller("MorningCtrl",["$scope","$location","Submitdata",function(a,b,c){localStorage.setItem("surveyName","morning"),localStorage.setItem("sessionGUID",guid()),$("input[type='time']").mobiscroll().time({theme:"android-ics"}),a.mood=0,a.alertness=0,a.questions=[{name:"bedtime",label:"What time did you go to bed last night?",type:"time"},{name:"waketime",label:"What time did you wake up this morning?",type:"time"},{name:"numTimesWaking",label:"How many times did you wake up during the night?",type:"number"}],a.submitForm=function(a){c.submit(),console.log(a),b.path(a)}}]),angular.module("p20ContextSensingApp").controller("EveningCtrl",["$scope","$location","Submitdata",function(a,b,c){localStorage.setItem("surveyName","morning"),localStorage.setItem("sessionGUID",guid()),a.mood=0,a.alertness=0,a.social=4,a.submitForm=function(a){c.submit(),console.log(a),b.path(a)}}]),angular.module("p20ContextSensingApp").controller("Evening2Ctrl",["$scope","$location","Submitdata",function(a,b,c){a.questions=[{name:"total_people_interacted_with",label:"How many people did you interact with today?",type:"number"},{name:"num_friends_interacted_with",label:"How many of these people were friends?",type:"number"},{name:"num_family_members_interacted_with",label:"How many of these people were family members?",type:"number"},{name:"num_coworkers_interacted_with",label:"How many of these people were co-workers?",type:"number"}],a.submitForm=function(a){c.submit(),console.log(a),b.path(a)}}]),angular.module("p20ContextSensingApp").controller("Evening3Ctrl",["$scope","$location","Submitdata",function(a,b,c){a.questions=[{name:"total_interactions",label:"How many interactions did you have with people today?",type:"number"},{name:"num_friends_interactions",label:"How many of these interactions were with friends?",type:"number"},{name:"num_family_members_interactions",label:"How many of these interactions were with family members?",type:"number"},{name:"num_coworkers_interactions",label:"How many of these interactions were with co-workers?",type:"number"},{name:"activity_level",label:"How active were you?",labelStyles:"",type:"range",styles:"",visibleMin:0,visibleMax:10,actualMin:3,actualMax:7,showUnavailableRange:!0,showUnavailableRangeStyles:"",stepSize:1,responseRequired:"required",value:4,ticks:[3,4,5,6,7],optionRangeStyles:"margin-top:-8px;",optionRanges:[{label:"Bottom","class":"alert-danger",widthPercentage:30,styles:""},{label:"Middle","class":"alert-warning",widthPercentage:40,styles:""},{label:"Top","class":"alert-success",widthPercentage:30,styles:""}]}],a.submitForm=function(a){c.submit(),console.log(a),b.path(a)}}]),angular.module("p20ContextSensingApp").controller("Evening4Ctrl",["$scope","$location","Submitdata",function(a,b,c){a.active=4,a.questions=[{name:"total_places_visited",label:"How many places did you visit outside of your home and work today?",type:"number"},{name:"enjoyable_places_visited",label:"How many of these were places to do something enjoyable (i.e., movie theater, restaurant, park, concert, etc.)?",type:"number"},{name:"got_something_done_visited",label:"How many of these were places to get something done (i.e., shopping, bank, laundromat, other errands, etc.)?",type:"number"},{name:"exercise_visited",label:"How many of these were places to exercise (i.e., gym, outdoor space, etc.)?",type:"number"},{name:"spiritual_visited",label:"How many of these were places for spiritual activities (i.e., praying, worshipping, meditating)?",type:"number"}],a.submitForm=function(a){c.submit(),console.log(a),b.path(a)}}]),angular.module("p20ContextSensingApp").service("Submitdata",function(){var a={};return a.submit=function(){var a=(new PurpleRobot,localStorage.userId),b=localStorage.sessionGUID,c=localStorage.surveyName;$.each($("form").serializeArray(),function(d,e){var f={user:a,surveyName:c,session:b,name:e.name,value:e.value};(new PurpleRobot).emitReading("surveydata",f).execute()})},a}),angular.module("p20ContextSensingApp").controller("CompletedsurveyCtrl",["$scope","$sanitize",function(a){(localStorage.surveyName="morning")&&(localStorage.num_morning_surveys=void 0==localStorage.num_morning_surveys?1:JSON.parse(localStorage.num_morning_surveys)+1),(localStorage.surveyName="evening")&&(localStorage.num_evening_surveys=void 0==localStorage.num_evening_surveys?1:JSON.parse(localStorage.num_morning_surveys)+1),void 0!==localStorage.num_evening_surveys&&(a.num_evening_surveys_report="<h3>Number of evening surveys completed:</h3>"+localStorage.num_evening_surveys),void 0!==localStorage.num_morning_surveys&&(a.num_morning_surveys_report="<h3>Number of morning surveys completed:</h3>"+localStorage.num_morning_surveys),localStorage.removeItem("sessionGUID"),localStorage.removeItem("surveyName")}]),angular.module("p20ContextSensingApp").controller("MockupsCtrl",["$scope",function(){console.log("mockups.js");var a=[5,10,15,20,25],b=500,c=50,d=d3.select("body").append("svg").attr("width",b).attr("height",c),e=d.selectAll("circle").data(a).enter().append("circle");e.attr("cx",function(a,b){return 50*b+25}).attr("cy",c/2).attr("r",function(a){return a})}]),angular.module("p20ContextSensingApp").controller("LocationFinderCtrl",["$scope",function(a){a.awesomeThings=["HTML5 Boilerplate","AngularJS","Karma"]}]),angular.module("p20ContextSensingApp").directive("questionPlayer",function(){return{template:"<div></div>",restrict:"E",link:function(a,b){b.text("this is the questionPlayer directive")}}});