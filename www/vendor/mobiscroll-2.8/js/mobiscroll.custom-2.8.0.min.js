(function(a){function t(b,l){function f(a,b,c){a.stopPropagation();a.preventDefault();if(!ja&&!o(b)&&!b.hasClass("dwa")){ja=!0;var f=b.find(".dw-ul");r(f);clearInterval(ra);ra=setInterval(function(){c(f)},v.delay);c(f)}}function o(b){return a.isArray(v.readonly)?(b=a(".dwwl",M).index(b),v.readonly[b]):v.readonly}function G(b){var f='<div class="dw-bf">',b=Fa[b],b=b.values?b:E(b),c=1,l=b.labels||[],e=b.values,o=b.keys||e;a.each(e,function(a,b){0==c%20&&(f+='</div><div class="dw-bf">');f+='<div role="option" aria-selected="false" class="dw-li dw-v" data-val="'+
o[a]+'"'+(l[a]?' aria-label="'+l[a]+'"':"")+' style="height:'+$+"px;line-height:"+$+'px;"><div class="dw-i">'+b+"</div></div>";c++});return f+="</div>"}function r(b){R=a(".dw-li",b).index(a(".dw-v",b).eq(0));fa=a(".dw-li",b).index(a(".dw-v",b).eq(-1));T=a(".dw-ul",M).index(b)}function w(a){var b=v.headerText;return b?"function"===typeof b?b.call(oa,a):b.replace(/\{value\}/i,a):""}function y(){s.temp=s.values?s.values.slice(0):v.parseValue(ha.val()||"",s);O()}function z(b){var f=window.getComputedStyle?
getComputedStyle(b[0]):b[0].style,c;F?(a.each(["t","webkitT","MozT","OT","msT"],function(a,b){if(void 0!==f[b+"ransform"])return c=f[b+"ransform"],!1}),c=c.split(")")[0].split(", "),b=c[13]||c[5]):b=f.top.replace("px","");return Math.round(sa-b/$)}function K(a,b){clearTimeout(Ga[b]);delete Ga[b];a.closest(".dwwl").removeClass("dwa")}function t(a,b,f,c,l){var e=(sa-f)*$,o=a[0].style;e==Ka[b]&&Ga[b]||(c&&e!=Ka[b]&&U("onAnimStart",[M,b,c]),Ka[b]=e,o[L+"Transition"]="all "+(c?c.toFixed(3):0)+"s ease-out",
F?o[L+"Transform"]="translate3d(0,"+e+"px,0)":o.top=e+"px",Ga[b]&&K(a,b),c&&l&&(a.closest(".dwwl").addClass("dwa"),Ga[b]=setTimeout(function(){K(a,b)},1E3*c)),Ha[b]=f)}function Y(b,c,f){var b=a('.dw-li[data-val="'+b+'"]',c),c=a(".dw-li",c),l=c.index(b),e=c.length;if(!b.hasClass("dw-v")){for(var o=b,g=0,G=0;0<=l-g&&!o.hasClass("dw-v");)g++,o=c.eq(l-g);for(;l+G<e&&!b.hasClass("dw-v");)G++,b=c.eq(l+G);(G<g&&G&&2!==f||!g||0>l-g||1==f)&&b.hasClass("dw-v")?l+=G:(b=o,l-=g)}return{cell:b,v:l,val:b.attr("data-val")}}
function Q(b,c,f,l,e){!1!==U("validate",[M,c,b,l])&&(a(".dw-ul",M).each(function(f){var o=a(this),g=f==c||void 0===c,G=Y(s.temp[f],o,l),D=G.cell;if(!D.hasClass("dw-sel")||g)s.temp[f]=G.val,a(".dw-sel",o).removeClass("dw-sel"),v.multiple||(a(".dw-sel",o).removeAttr("aria-selected"),D.attr("aria-selected","true")),D.addClass("dw-sel"),t(o,f,G.v,g?b:0.1,g?e:!1)}),na=v.formatResult(s.temp),s.live&&O(f,0,!0),a(".dwv",M).html(w(na)),f&&U("onChange",[na]))}function U(b,c){var f;c.push(s);a.each([ta.defaults,
Na,l],function(a,l){l[b]&&(f=l[b].apply(oa,c))});return f}function D(b,c,f,l,e){var c=Math.max(R,Math.min(c,fa)),o=a(".dw-li",b).eq(c),g=void 0===e?c:e,G=void 0!==e,D=T,m=l?c==g?0.1:Math.abs((c-g)*v.timeUnit):0;s.temp[D]=o.attr("data-val");t(b,D,c,m,G);setTimeout(function(){Q(m,D,!0,f,G)},10)}function za(a){var b=Ha[T]+1;D(a,b>fa?R:b,1,!0)}function pa(a){var b=Ha[T]-1;D(a,b<R?fa:b,2,!0)}function O(a,b,c,f,l){Ca&&!c&&Q(b,void 0,l);na=v.formatResult(s.temp);f||(s.values=s.temp.slice(0),s.val=na);a&&
Aa&&(Oa=!0,ha.val(na).change())}function P(a,b){var c;ya.on(a,function(){clearTimeout(c);c=setTimeout(function(){(Da&&b||!b)&&s.position(!b)},200)})}var sa,$,na,M,Ba,qa,la,ua,da,Da,aa,ta,va,ja,S,wa,Ea,C,xa,Z,ba,R,fa,V,ca,T,ra,Pa,Oa,La,Qa,Ia,ya,Ma,ma,ea,s=this,Ra=a.mobiscroll,oa=b,ha=a(oa),v=I({},c),Na={},Ga={},Ha={},Ka={},Fa=[],Ja=[],Aa=ha.is("input"),Ca=!1,Va=function(b){h(b)&&!k&&!ja&&!ea&&!o(this)&&(b.preventDefault(),k=!0,wa="clickpick"!=v.mode,ca=a(".dw-ul",this),r(ca),ba=(Ea=void 0!==Ga[T])?
z(ca):Ha[T],C=g(b,"Y"),xa=new Date,Z=C,t(ca,T,ba,0.001),wa&&ca.closest(".dwwl").addClass("dwa"),a(document).on(n,Sa).on(J,Ta))},Sa=function(a){wa&&(a.preventDefault(),a.stopPropagation(),Z=g(a,"Y"),t(ca,T,Math.max(R-1,Math.min(ba+(C-Z)/$,fa+1))));C!==Z&&(Ea=!0)},Ta=function(){var b=new Date-xa,c=Math.max(R-1,Math.min(ba+(C-Z)/$,fa+1)),f,l=ca.offset().top;300>b?(b=(Z-C)/b,f=b*b/v.speedUnit,0>Z-C&&(f=-f)):f=Z-C;b=Math.round(ba-f/$);if(!f&&!Ea){var l=Math.floor((Z-l)/$),e=a(a(".dw-li",ca)[l]);f=wa;!1!==
U("onValueTap",[e])?b=l:f=!0;f&&(e.addClass("dw-hl"),setTimeout(function(){e.removeClass("dw-hl")},200))}wa&&D(ca,b,0,!0,Math.round(c));k=!1;ca=null;a(document).off(n,Sa).off(J,Ta)},Wa=function(b){ea&&ea.removeClass("dwb-a");ea=a(this);a(document).on(J,Ua);!ea.hasClass("dwb-d")&&!ea.hasClass("dwb-nhl")&&ea.addClass("dwb-a");ea.hasClass("dwwb")&&h(b)&&f(b,ea.closest(".dwwl"),ea.hasClass("dwwbp")?za:pa)},Ua=function(){ja&&(clearInterval(ra),ja=!1);ea&&(ea.removeClass("dwb-a"),ea=null);a(document).off(J,
Ua)},Xa=function(b){38==b.keyCode?f(b,a(this),pa):40==b.keyCode&&f(b,a(this),za)},Ya=function(){ja&&(clearInterval(ra),ja=!1)},Za=function(b){if(!o(this)){b.preventDefault();var b=b.originalEvent||b,b=b.wheelDelta?b.wheelDelta/120:b.detail?-b.detail/3:0,c=a(".dw-ul",this);r(c);D(c,Math.round(Ha[T]-b),0>b?1:2)}};s.position=function(b){if(V&&!Qa&&!(qa===Ba.width()&&la===(ya[0].innerHeight||ya.innerHeight())&&b||!1===U("onPosition",[M]))){var c,f,l,e,o,g,G,D,m,n=0,ra=0,b=ya.scrollTop();e=a(".dwwr",M);
var k=a(".dw",M),h={};o=void 0===v.anchor?ha:v.anchor;qa=Ba.width();la=ya[0].innerHeight||ya.innerHeight();/modal|bubble/.test(v.display)&&(a(".dwc",M).each(function(){c=a(this).outerWidth(!0);n+=c;ra=c>ra?c:ra}),c=n>qa?ra:n,e.width(c).css("white-space",n>qa?"":"nowrap"));ua=k.outerWidth();da=k.outerHeight(!0);Da=da<=la&&ua<=qa;s.scrollLock=Da;"modal"==v.display?(f=(qa-ua)/2,l=b+(la-da)/2):"bubble"==v.display?(m=!0,D=a(".dw-arrw-i",M),l=o.offset(),g=Math.abs(a(v.context).offset().top-l.top),G=Math.abs(a(v.context).offset().left-
l.left),e=o.outerWidth(),o=o.outerHeight(),f=G-(k.outerWidth(!0)-e)/2,f=f>qa-ua?qa-(ua+20):f,f=5>f?5:f,l=g-da,l<b||g>b+la?(k.removeClass("dw-bubble-top").addClass("dw-bubble-bottom"),l=g+o):k.removeClass("dw-bubble-bottom").addClass("dw-bubble-top"),D=D.outerWidth(),e=G+e/2-(f+(ua-D)/2),a(".dw-arr",M).css({left:Math.max(0,Math.min(e,D))})):(h.width="100%","top"==v.display?l=b:"bottom"==v.display&&(l=b+la-da));h.top=0>l?0:l;h.left=f;k.css(h);Ba.height(0);f=Math.max(l+da,"body"==v.context?a(document).height():
Ma.scrollHeight);Ba.height(f);if(m&&(l+da>b+la||g>b+la))Qa=!0,setTimeout(function(){Qa=false},300),ya.scrollTop(Math.min(l+da-la,f-la))}};s.enable=function(){v.disabled=!1;Aa&&ha.prop("disabled",!1)};s.disable=function(){v.disabled=!0;Aa&&ha.prop("disabled",!0)};s.setValue=function(b,f,c,l){s.temp=a.isArray(b)?b.slice(0):v.parseValue.call(oa,b+"",s);O(f,c,!1,l,f)};s.getValue=function(){return s.values};s.getValues=function(){var a=[],b;for(b in s._selectedValues)a.push(s._selectedValues[b]);return a};
s.changeWheel=function(b,f,c){if(M){var l=0,e=b.length;a.each(v.wheels,function(o,g){a.each(g,function(o,g){if(-1<a.inArray(l,b)&&(Fa[l]=g,a(".dw-ul",M).eq(l).html(G(l)),e--,!e))return s.position(),Q(f,void 0,c),!1;l++});if(!e)return!1})}};s.isVisible=function(){return Ca};s.tap=function(a,b){var f,c;if(v.tap)a.on("touchstart.dw mousedown.dw",function(a){a.preventDefault();f=g(a,"X");c=g(a,"Y")}).on("touchend.dw",function(a){20>Math.abs(g(a,"X")-f)&&20>Math.abs(g(a,"Y")-c)&&b.call(this,a);q()});a.on("click.dw",
function(a){u||b.call(this,a);a.preventDefault()})};s.show=function(b){if(!v.disabled&&!Ca){"top"==v.display&&(aa="slidedown");"bottom"==v.display&&(aa="slideup");y();U("onBeforeShow",[]);var f,c=0,l="";aa&&!b&&(l="dw-"+aa+" dw-in");var e='<div role="dialog" class="'+v.theme+" dw-"+v.display+(H?" dw"+H:"")+(S?"":" dw-nobtn")+'">'+(!V?'<div class="dw dwbg dwi">':'<div class="dw-persp"><div class="dwo"></div><div class="dw dwbg '+l+'"><div class="dw-arrw"><div class="dw-arrw-i"><div class="dw-arr"></div></div></div>')+
'<div class="dwwr"><div aria-live="assertive" class="dwv'+(v.headerText?"":" dw-hidden")+'"></div><div class="dwcc">',o=a.isArray(v.minWidth),g=a.isArray(v.maxWidth),D=a.isArray(v.fixedWidth);a.each(v.wheels,function(b,l){e+='<div class="dwc'+("scroller"!=v.mode?" dwpm":" dwsc")+(v.showLabel?"":" dwhl")+'"><div class="dwwc dwrc"><table cellpadding="0" cellspacing="0"><tr>';a.each(l,function(a,b){Fa[c]=b;f=void 0!==b.label?b.label:a;e+='<td><div class="dwwl dwrc dwwl'+c+'">'+("scroller"!=v.mode?'<a href="#" tabindex="-1" class="dwb-e dwwb dwwbp" style="height:'+
$+"px;line-height:"+$+'px;"><span>+</span></a><a href="#" tabindex="-1" class="dwb-e dwwb dwwbm" style="height:'+$+"px;line-height:"+$+'px;"><span>&ndash;</span></a>':"")+'<div class="dwl">'+f+'</div><div tabindex="0" aria-live="off" aria-label="'+f+'" role="listbox" class="dwww"><div class="dww" style="height:'+v.rows*$+"px;"+(v.fixedWidth?"width:"+(D?v.fixedWidth[c]:v.fixedWidth)+"px;":(v.minWidth?"min-width:"+(o?v.minWidth[c]:v.minWidth)+"px;":"min-width:"+v.width+"px;")+(v.maxWidth?"max-width:"+
(g?v.maxWidth[c]:v.maxWidth)+"px;":""))+'"><div class="dw-ul">';e+=G(c);e+='</div><div class="dwwol"></div></div><div class="dwwo"></div></div><div class="dwwol"></div></div></td>';c++});e+="</tr></table></div></div>"});e+="</div>";V&&S&&(e+='<div class="dwbc">',a.each(ma,function(a,b){b="string"===typeof b?s.buttons[b]:b;e+="<span"+(v.btnWidth?' style="width:'+100/ma.length+'%"':"")+' class="dwbw '+b.css+'"><a href="#" class="dwb dwb'+a+' dwb-e" role="button">'+b.text+"</a></span>"}),e+="</div>");
e+=(V?"</div>":"")+"</div></div></div>";M=a(e);Ba=a(".dw-persp",M);Q();U("onMarkupReady",[M]);V?(M.appendTo(v.context),aa&&!b&&(M.addClass("dw-trans"),setTimeout(function(){M.removeClass("dw-trans").find(".dw").removeClass(l)},350))):ha.is("div")?ha.html(M):M.insertAfter(ha);U("onMarkupInserted",[M]);Ca=!0;ta.init(M,s);if(V){a.each(ma,function(b,c){s.tap(a(".dwb"+b,M),function(a){c=typeof c==="string"?s.buttons[c]:c;c.handler.call(this,a,s)})});v.closeOnOverlay&&s.tap(a(".dwo",M),function(){s.cancel()});
a(window).on("keydown.dw",function(a){a.keyCode==13?s.select():a.keyCode==27&&s.cancel()});if(v.scrollLock)M.on("touchmove",function(a){Da&&a.preventDefault()});a("input,select,button",Ma).each(function(){if(!this.disabled){a(this).attr("autocomplete")&&a(this).data("autocomplete",a(this).attr("autocomplete"));a(this).addClass("dwtd").prop("disabled",true).attr("autocomplete","off")}});s.position();P("orientationchange.dw resize.dw",!1);P("scroll.dw",!0);s.alert(v.ariaDesc)}M.on("DOMMouseScroll mousewheel",
".dwwl",Za).on(B,".dwwl",Va).on("keydown",".dwwl",Xa).on("keyup",".dwwl",Ya).on(B,".dwb-e",Wa).on("selectstart mousedown",A).on("click",".dwb-e",A).on("touchend",function(){v.tap&&q()}).on("keydown",".dwb-e",function(b){if(b.keyCode==32){b.preventDefault();b.stopPropagation();a(this).click()}});U("onShow",[M,na])}};s.hide=function(b,c,f){if(Ca&&(f||!1!==U("onClose",[na,c])))if(a(".dwtd",Ma).each(function(){a(this).prop("disabled",!1).removeClass("dwtd");a(this).data("autocomplete")?a(this).attr("autocomplete",
a(this).data("autocomplete")):a(this).removeAttr("autocomplete")}),M&&((b=V&&aa&&!b)&&M.addClass("dw-trans").find(".dw").addClass("dw-"+aa+" dw-out"),setTimeout(function(){M.remove()},b?350:1),ya.off(".dw")),Ka={},Ca=!1,Ia)La=!0,Ia.focus()};s.select=function(){!1!==s.hide(!1,"set")&&(O(!0,0,!0),U("onSelect",[s.val]))};s.alert=function(a){e.text(a);clearTimeout(x);x=setTimeout(function(){e.text("")},5E3)};s.attachShow=function(a,b){Ja.push(a);if("inline"!==v.display)a.on((v.showOnFocus?"focus.dw":
"")+(v.showOnTap?" click.dw":""),function(){!La&&!u&&(b&&b(),Ia=a,s.show());setTimeout(function(){La=false},300)})};s.cancel=function(){!1!==s.hide(!1,"cancel")&&U("onCancel",[s.val])};s.init=function(b){ta=I({defaults:{},load:m,init:m},Ra.themes[b.theme||v.theme]);va=Ra.i18n[b.lang||v.lang];I(l,b);ta.load(va,l);I(v,ta.defaults,va,l);v.buttons=v.buttons||["set","cancel"];v.headerText=void 0===v.headerText?"inline"!==v.display?"{value}":!1:v.headerText;s.settings=v;ha.off(".dw");if(b=Ra.presets[v.preset])Na=
b.call(oa,s),I(v,Na,l);sa=Math.floor(v.rows/2);$=v.height;aa=v.animate;V="inline"!==v.display;ma=v.buttons;ya=a("body"==v.context?window:v.context);Ma=a(v.context)[0];v.setText||ma.splice(a.inArray("set",ma),1);v.cancelText||ma.splice(a.inArray("cancel",ma),1);v.button3&&ma.splice(a.inArray("set",ma)+1,0,{text:v.button3Text,handler:v.button3});s.context=ya;s.live=!V||-1==a.inArray("set",ma);s.buttons.set={text:v.setText,css:"dwb-s",handler:s.select};s.buttons.cancel={text:s.live?v.closeText:v.cancelText,
css:"dwb-c",handler:s.cancel};s.buttons.clear={text:v.clearText,css:"dwb-cl",handler:function(){s.trigger("onClear",[M]);ha.val("");s.live||s.hide()}};S=0<ma.length;Ca&&s.hide();V?(y(),Aa&&(void 0===Pa&&(Pa=oa.readOnly),oa.readOnly=!0),s.attachShow(ha),a(window).off(".dwa").on("focus.dwa",function(){Ia&&document.activeElement==Ia[0]&&(La=true)})):s.show();if(Aa)ha.on("change.dw",function(){Oa||s.setValue(ha.val(),false,0.2);Oa=false})};s.option=function(a,b){var c={};"object"===typeof a?c=a:c[a]=
b;s.init(c)};s.destroy=function(){s.hide(!0,!1,!0);a.each(Ja,function(a,b){b.off(".dw")});a(window).off(".dwa");Aa&&(oa.readOnly=Pa);delete p[oa.id];U("onDestroy",[])};s.getInst=function(){return s};s.getValidCell=Y;s.trigger=U;p[oa.id]=s;s.values=null;s.val=null;s.temp=null;s.buttons={};s._selectedValues={};s.init(l)}function z(a){for(var c in a)if(void 0!==K[a[c]])return!0;return!1}function h(a){if("touchstart"===a.type)y=!0;else if(y)return y=!1;return!0}function q(){u=!0;setTimeout(function(){u=
!1},300)}function g(a,c){var f=a.originalEvent,e=a.changedTouches;return e||f&&f.changedTouches?f?f.changedTouches[0]["page"+c]:e[0]["page"+c]:a["page"+c]}function E(b){var c={values:[],keys:[]};a.each(b,function(a,b){c.keys.push(a);c.values.push(b)});return c}function r(a,c,f){var e=a;if("object"===typeof c)return a.each(function(){this.id||(w+=1,this.id="mobiscroll"+w);p[this.id]&&p[this.id].destroy();new t(this,c)});"string"===typeof c&&a.each(function(){var a;if((a=p[this.id])&&a[c])if(a=a[c].apply(this,
Array.prototype.slice.call(f,1)),void 0!==a)return e=a,!1});return e}var k,u,y,x,e,w=(new Date).getTime(),p={},m=function(){},A=function(a){a.preventDefault()},K=document.createElement("modernizr").style,F=z(["perspectiveProperty","WebkitPerspective","MozPerspective","OPerspective","msPerspective"]),H=function(){var a=["Webkit","Moz","O","ms"],c;for(c in a)if(z([a[c]+"Transform"]))return"-"+a[c].toLowerCase();return""}(),L=H.replace(/^\-/,"").replace("moz","Moz"),I=a.extend,B="touchstart mousedown",
n="touchmove mousemove",J="touchend mouseup",c={width:70,height:40,rows:3,delay:300,disabled:!1,readonly:!1,closeOnOverlay:!0,showOnFocus:!0,showOnTap:!0,showLabel:!0,wheels:[],theme:"",selectedText:" Selected",closeText:"Close",display:"modal",mode:"scroller",preset:"",lang:"en-US",setText:"Set",cancelText:"Cancel",clearText:"Clear",context:"body",ariaDesc:"Select a value",scrollLock:!0,tap:!0,btnWidth:!0,speedUnit:0.0012,timeUnit:0.1,formatResult:function(a){return a.join(" ")},parseValue:function(b,
c){var f=b.split(" "),e=[],g=0,m;a.each(c.settings.wheels,function(b,c){a.each(c,function(b,c){c=c.values?c:E(c);m=c.keys||c.values;-1!==a.inArray(f[g],m)?e.push(f[g]):e.push(m[0]);g++})});return e}};a(function(){e=a('<div class="dw-hidden" role="alert"></div>').appendTo("body")});a(document).on("mouseover mouseup mousedown click",function(a){if(u)return a.stopPropagation(),a.preventDefault(),!1});a.fn.mobiscroll=function(b){I(this,a.mobiscroll.shorts);return r(this,b,arguments)};a.mobiscroll=a.mobiscroll||
{setDefaults:function(a){I(c,a)},presetShort:function(a){this.shorts[a]=function(c){return r(this,I(c,{preset:a}),arguments)}},util:{prefix:H,has3d:F},shorts:{},presets:{},themes:{},i18n:{}};a.scroller=a.scroller||a.mobiscroll;a.fn.scroller=a.fn.scroller||a.fn.mobiscroll})(jQuery);(function(a){var t=a.mobiscroll,z=t.util.has3d,h=t.util.prefix.replace(/^\-/,"").replace("moz","Moz"),q={controls:["calendar"],firstDay:0,maxMonthWidth:170,highlight:!0,swipe:!0,liveSwipe:!0,showDivergentDays:!0,divergentDayChange:!0,navigation:"yearMonth",dateText:"Date",timeText:"Time",calendarText:"Calendar",prevMonthText:"Previous Month",nextMonthText:"Next Month",prevYearText:"Previous Year",nextYearText:"Next Year"};t.presets.calbase=function(g){function E(b,c,f){var e,l,o,G,D={};b&&(b=g.convert(b),
a.each(b,function(a,b){e=b.d||b.start||b;l=e+"";if(b.start&&b.end)for(G=new Date(b.start);G<=b.end;)o=(new Date(G.getFullYear(),G.getMonth(),G.getDate())).getTime(),D[o]=D[o]||[],D[o].push(b),G.setDate(G.getDate()+1);else if(e.getTime)o=(new Date(e.getFullYear(),e.getMonth(),e.getDate())).getTime(),D[o]=D[o]||[],D[o].push(b);else if(l.match(/w/i)){var g=C.firstDay,m=+l.replace("w",""),n=0,k=(new Date(c,f-1,1)).getDay();1<g-k+1&&(n=7);for(j=0;18>j;j++)o=(new Date(c,f-1,7*j+g-n-k+1+m)).getTime(),D[o]=
D[o]||[],D[o].push(b)}else l=l.split("/"),l[1]?o=(new Date(c,l[0]-1,l[1])).getTime():(o=(new Date(c,f-1,l[0])).getTime(),D[o]=D[o]||[],D[o].push(b),o=(new Date(c,f,l[0])).getTime(),D[o]=D[o]||[],D[o].push(b),o=(new Date(c,f+1,l[0])).getTime()),D[o]=D[o]||[],D[o].push(b)}));return D}function r(a,b){ua=E(C.invalid,a,b);g.onGenMonth(a,b)}function k(b,c){var f,e,l,o,G,m,n,k,s,h,r,p=1,v=0;G=new Date(b,c,1);var w=G.getFullYear(),Y=G.getMonth(),A=g.getDate(!0),E=(new Date(w,Y+1,0)).getDate(),Q=(new Date(w,
Y,1)).getDay(),B=(new Date(w,Y,0)).getDate()-Q+1,y='<div class="dw-cal-table">',x='<div class="dw-week-nr-c">';1<C.firstDay-Q+1&&(v=7);for(r=0;42>r;r++)h=r+C.firstDay-v,f=new Date(w,Y,h-Q+1),e=f.getFullYear(),l=f.getMonth(),o=f.getDate(),G=e+"-"+l+"-"+o,m=a.extend({valid:f<new Date(U.getFullYear(),U.getMonth(),U.getDate())||f>D?!1:void 0===ua[f.getTime()],selected:A.getFullYear()===e&&A.getMonth()===l&&A.getDate()===o},g.getDayProps(f,A)),n=m.valid,k=m.selected,e=m.cssClass,s=h<Q||h>=E+Q,wa[G]=m,
0==r%7&&(y+=(r?"</div>":"")+'<div class="dw-cal-row'+(C.highlight&&0<=A-f&&6048E5>A-f?" dw-cal-week-hl":"")+'">',Z&&("month"==Z&&l!==Y&&r?p=1==o?1:2:"year"==Z&&(p=f,p=new Date(p),p.setHours(0,0,0),p.setDate(p.getDate()+4-(p.getDay()||7)),f=new Date(p.getFullYear(),0,1),p=Math.ceil(((p-f)/864E5+1)/7)),x+='<div class="dw-week-nr"><div class="dw-week-nr-i">'+p+"</div></div>",p++)),y+='<div role="button" tabindex="0" class="dw-cal-day'+(R?" ui-body-c":"")+(k?" dw-sel":"")+(e?" "+e:"")+(s?" dw-cal-day-diff":
"")+(n?" dw-cal-day-v dwb-e dwb-nhl":" dw-cal-day-inv")+'" data-date="'+(h-Q+1)+'" data-full="'+G+'"'+(k?' aria-selected="true"':"")+(n?"":' aria-disabled="true"')+'><div class="dw-i'+(k&&R?" ui-btn-active":"")+(n&&R?' ui-btn-up-c ui-state-default ui-btn" data-theme="c">':'">')+'<div class="dw-cal-day-fg">'+(h<Q?B+h:h>=E+Q?h-E-Q+1:h-Q+1)+"</div>"+(m.markup||"")+'<div class="dw-cal-day-frame"></div></div></div>';return y+("</div>"+x+"</div></div>")}function u(b,c){X.text(ka[c]);ia.text(b);new Date(b,
c-1,1)<Y?a(".dw-cal-prev-m",n).addClass(T).attr("aria-disabled","true"):a(".dw-cal-prev-m",n).removeClass(T).removeAttr("aria-disabled");new Date(b,c+1,1)>Q?a(".dw-cal-next-m",n).addClass(T).attr("aria-disabled","true"):a(".dw-cal-next-m",n).removeClass(T).removeAttr("aria-disabled");new Date(b-1,c,1)<Y?a(".dw-cal-prev-y",n).addClass(T).attr("aria-disabled","true"):a(".dw-cal-prev-y",n).removeClass(T).removeAttr("aria-disabled");new Date(b+1,c,1)>Q?a(".dw-cal-next-y",n).addClass(T).attr("aria-disabled",
"true"):a(".dw-cal-next-y",n).removeClass(T).removeAttr("aria-disabled")}function y(){if(S.calendar&&pa&&"calendar"===da){var b=g.getDate(!0),c;b.getFullYear()===O&&b.getMonth()===P?pa=b:b>pa&&aa?(c=1!==b.getMonth()-P,O=b.getFullYear(),P=b.getMonth(),w.call(this,O,P,"next",c)):b<pa&&aa&&(c=-1!==b.getMonth()-P,O=b.getFullYear(),P=b.getMonth(),w.call(this,O,P,"prev",c));g.trigger("onDayHighlight",[b]);C.highlight&&(a(".dw-cal .dw-sel",n).removeClass("dw-sel").removeAttr("aria-selected"),b=a('.dw-cal .dw-cal-day[data-full="'+
O+"-"+P+"-"+b.getDate()+'"]',n).addClass("dw-sel").attr("aria-selected","true").parent(),a(".dw-cal-week-hl",n).removeClass("dw-cal-week-hl"),b&&b.addClass("dw-cal-week-hl"),R&&(a(".dw-cal .ui-btn-active",n).removeClass("ui-btn-active"),a(".dw-cal .dw-sel .dw-i",n).addClass("ui-btn-active")));aa=!0}}function x(a){a.length&&(a[0].style.display="run-in",setTimeout(function(){a[0].style.display=""},0))}function e(a,b,c,f){f||r(a,b);G.html(k(a,b-1));N.html(c||k(a,b));W.html(k(a,b+1));g.needRefresh=!1}
function w(b,c,e,l,o){b&&ja.push({y:b,m:c,dir:e,load:l});if(!va){var D=ja.shift(),m,b=D.y,c=D.m,e=D.dir,l=D.load,D=new Date(b,c,1),b=D.getFullYear(),c=D.getMonth();va=!0;g.changing=!0;g.trigger("onMonthChange",[b,c]);r(b,c);l&&("next"==e?W.html(k(b,c)):G.html(k(b,c)));u(b,c);setTimeout(function(){F("next"==e?f-100:f+100,200,o);setTimeout(function(){N.removeClass("dw-cal-slide-a");"next"==e?(H(G,+G.data("curr")+300),G.html(k(b,c+1)),l&&N.html(k(b,c-1)),m=G,G=N,N=W,W=m):(H(W,+W.data("curr")-300),W.html(k(b,
c-1)),l&&N.html(k(b,c+1)),m=G,G=W,W=N,N=m);N.addClass("dw-cal-slide-a");va=!1;ja.length?setTimeout(function(){w()},10):(O=b,P=c,pa=new Date(b,c,1),g.changing=!1,g.month=N,Z&&ga.html(a(".dw-week-nr-c",N).html()),g.needRefresh&&g.refresh(),g.trigger("onMonthLoaded",[b,c]))},z?200:0)},10)}}function p(){var b=a(this),c=b.attr("data-date"),f=b.attr("data-full"),e=new Date(O,P,c),l=b.hasClass("dw-sel"),o=g.live,D=g.getDate(!0);if((xa||!b.hasClass("dw-cal-day-diff"))&&!1!==g.trigger("onDayChange",[a.extend(wa[f],
{date:e,cell:this,selected:l})]))C.divergentDayChange||(aa=!1),g.setDate(new Date(O,P,c,D.getHours(),D.getMinutes(),D.getSeconds()),o,0.2,!o,!0)}function m(a,b){var c=a.originalEvent,f=a.changedTouches;return f||c&&c.changedTouches?c?c.changedTouches[0]["page"+b]:f[0]["page"+b]:a["page"+b]}function A(){var b,c=0,f=0;if(V||ca)a(".dwc",n).removeClass("dwc-h"),a.each(S,function(a,e){b=e.outerWidth(!0);c=Math.max(c,b);f+=b}),V||f>n.parent().width()?(da=a(".dw-cal-tabs .dw-sel",n).attr("data-control"),
a(".dw",n).addClass("dw-cal-tabbed"),a(".dwc",n).addClass("dwc-h"),S[da].removeClass("dwc-h"),"liquid"!==ba&&a(".dwcc",n).width(c)):(da="calendar",a(".dwcc",n).width("auto"),a(".dw",n).removeClass("dw-cal-tabbed"))}function K(){fa&&(ka=C.maxMonthWidth>a(".dw-cal-btnw",n).width()?C.monthNamesShort:C.monthNames,X.text(ka[P]))}function F(a,b,e){l=Math.max(f-100,Math.min(a,f+100));c[0].style[h+"Transition"]="all "+(b||0)+"ms"+(e||"");z?c[0].style[h+"Transform"]="translate3d("+l+"%,0,0)":c[0].style.left=
l+"%";b&&(f=l)}function H(a,b){a.data("curr",b);z?a[0].style[h+"Transform"]="translate3d("+b+"%,0,0)":a[0].style.left=b+"%"}var t,I,B,n,J,c,b,l,f,o,G,N,W,ga,ka,X,ia,Y,Q,U,D,za,pa,O,P,sa,$,na,M,Ba,qa,la,ua,da="calendar",Da=this,aa=!0,ta=!1,va=!1,ja=[],S={},wa={},Ea=function(){};B=a.extend({},g.settings);var C=a.extend(g.settings,q,B),xa=C.showDivergentDays,Z=C.weekCounter,ba=C.layout||(/top|bottom/.test(C.display)?"liquid":""),R="jqm"==C.theme,fa="yearMonth"==C.navigation;B=C.controls.join(",");var V=
(!0===C.tabs||!1!==C.tabs&&"liquid"==ba)&&1<C.controls.length,ca=!V&&void 0===C.tabs&&"liquid"!==ba&&1<C.controls.length,T="dwb-d"+(R?" ui-disabled":"");B.match(/calendar/)&&(S.calendar=1);B.match(/date/)&&(S.date=1);B.match(/time/)&&(S.time=1);S.calendar&&S.date&&(V=!0,ca=!1);C.preset=(S.date||S.calendar?"date":"")+(S.time?"time":"");g.changing=!1;g.needRefresh=!1;g.getDayProps=Ea;g.onGenMonth=Ea;g.prepareObj=E;g.refresh=function(){g.isVisible()&&S.calendar&&e(O,P)};B=a.mobiscroll.presets.datetime.call(this,
g);qa=B.validate;a.extend(B,{onMarkupReady:function(k){n=k;var h,r,E="",B=C.dateOrder.search(/m/i),u=C.dateOrder.search(/y/i);pa=g.getDate(true);O=pa.getFullYear();P=pa.getMonth();za=pa;ka=C.monthNames;if(C.minDate){Y=new Date(C.minDate.getFullYear(),C.minDate.getMonth(),1);U=C.minDate}else U=Y=new Date(C.startYear,0,1);if(C.maxDate){Q=new Date(C.maxDate.getFullYear(),C.maxDate.getMonth(),1);D=C.maxDate}else D=Q=new Date(C.endYear,11,31,23,59,59);k.addClass("dw-calendar");z||k.addClass("dw-cal-no3d");
S.date?S.date=a(".dwc",n).eq(0):S.calendar&&a(".dwc",n).eq(0).addClass("dwc-hh").hide();if(S.time)S.time=a(".dwc",n).eq(1);if(S.calendar){r='<div class="dw-cal-btnw"><div class="dw-cal-prev dw-cal-prev-m dw-cal-btn dwb dwb-e"><a href="#" role="button" class="dw-cal-btn-txt"'+(R?'data-role="button" data-icon="arrow-l" data-iconpos="notext"':"")+">"+C.prevMonthText+"</a></div>"+(!fa&&u<B?'<span aria-live="assertive" class="dw-cal-year"></span>&nbsp;':"")+'<span aria-live="assertive" class="dw-cal-month"></span>'+
(!fa&&u>B?'&nbsp;<span aria-live="assertive" class="dw-cal-year"></span>':"")+'<div class="dw-cal-next dw-cal-next-m dw-cal-btn dwb dwb-e"><a href="#" role="button" class="dw-cal-btn-txt"'+(R?'data-role="button" data-icon="arrow-r" data-iconpos="notext"':"")+">"+C.nextMonthText+"</a></div></div>";fa&&(E='<div class="dw-cal-btnw"><div class="dw-cal-prev dw-cal-prev-y dw-cal-btn dwb dwb-e"><a href="#" role="button" class="dw-cal-btn-txt"'+(R?'data-role="button" data-icon="arrow-l" data-iconpos="notext"':
"")+">"+C.prevYearText+'</a></div><span aria-live="assertive" class="dw-cal-year"></span><div class="dw-cal-next dw-cal-next-y dw-cal-btn dwb dwb-e"><a href="#" role="button" class="dw-cal-btn-txt"'+(R?'data-role="button" data-icon="arrow-r" data-iconpos="notext"':"")+">"+C.nextYearText+"</a></div></div>");o='<div class="dwc dw-cal-c"><div class="dw-cal'+(Z?" dw-weeks":"")+(xa?"":" dw-hide-diff")+(R?" ui-body-"+C.jqmBody:"")+'"><div class="dw-cal-header"><div class="dw-cal-btnc '+(fa?"dw-cal-btnc-ym":
"dw-cal-btnc-m")+'">'+(u<B?E+r:r+E)+'</div><div class="dw-cal-days"><table cellpadding="0" cellspacing="0"><tr>';for(I=0;I<7;I++)o=o+("<th>"+C.dayNamesShort[(I+C.firstDay)%7]+"</th>");o=o+('</tr></table></div></div><div class="dw-cal-anim-c'+(R?" ui-body-c":"")+'"><div class="dw-week-nrs-c'+(R?" ui-body-a ui-body-c":"")+'"><div class="dw-week-nrs"></div></div><div class="dw-cal-anim"><div class="dw-cal-slide dw-cal-slide1"></div><div class="dw-cal-slide dw-cal-slide-a dw-cal-slide2"></div><div class="dw-cal-slide dw-cal-slide3"></div></div></div><div class="dw-cal-f"></div></div></div>');
S.calendar=a(o)}a.each(C.controls,function(b,c){a(".dwcc",n).append(S[c].attr("id",Da.id+"_dw_pnl_"+b))});h='<div class="dw-cal-tabs"'+(R?' data-role="navbar"':"")+'><ul role="tablist">';a.each(C.controls,function(a,b){S[b]&&(h=h+('<li role="tab" aria-controls="'+(Da.id+"_dw_pnl_"+a)+'" class="dwb-e dwb-nhl dw-cal-tab'+(a?"":" dw-sel")+'" data-control="'+b+'"'+(R?"":' tabindex="0"')+"><"+(R?'a href="#"':'span class="dw-i"')+(!a&&R?' class="ui-btn-active"':"")+">"+C[b+"Text"]+"</"+(R?"a":"span")+"></li>"))});
h=h+"</ul></div>";a(".dwcc",k).before(h);J=a(".dw-cal-anim-c",n);c=a(".dw-cal-anim",n);G=a(".dw-cal-slide1",n);N=a(".dw-cal-slide2",n).data("curr",0);W=a(".dw-cal-slide3",n);ga=a(".dw-week-nrs",n);g.month=N;if(S.calendar){H(G,-100);H(W,100)}X=a(".dw-cal-month",n);ia=a(".dw-cal-year",n);e(O,P);ga.html(a(".dw-week-nr-c",N).html());J.on("touchstart mousedown",".dw-cal-day-v",function(a){if(a.type==="touchstart")ta=true;else if(ta)return false;la=false;sa=m(a,"X");$=m(a,"Y")}).on("touchmove mousemove",
function(a){Math.abs(m(a,"Y")-$)>5&&(la=true)}).on("touchend",".dw-cal-day-v",function(a){!va&&!la&&Math.abs(m(a,"X")-sa)<20&&Math.abs(m(a,"Y")-$)<20&&p.call(this)}).on("click",".dw-cal-day-v",function(){!va&&!la&&!ta&&p.call(this);ta=false});g.tap(a(".dw-cal-prev-m",n),function(){new Date(O,P-1,1)>=Y&&ja.length<5&&w(O,--P,"prev")});g.tap(a(".dw-cal-next-m",n),function(){new Date(O,P+1,1)<=Q&&ja.length<5&&w(O,++P,"next")});g.tap(a(".dw-cal-prev-y",n),function(){if(new Date(O-1,P,1)>=Y&&ja.length<
5){O--;w(O,P,"prev",true)}});g.tap(a(".dw-cal-next-y",n),function(){if(new Date(O+1,P,1)<=Q&&ja.length<5){O++;w(O,P,"next",true)}});a(".dw-cal-tab",n).on("touchstart click",function(b){var c=a(this);if(b.type=="touchstart")c.data("click",true);else if(c.data("click")){c.data("click",null);return}if(!c.hasClass("dw-sel")){da=c.attr("data-control");a(".dwc",n).addClass("dwc-h");a(".dw-cal-tab",n).removeClass("dw-sel").removeAttr("aria-selected");c.addClass("dw-sel").attr("aria-selected","true");if(da===
"calendar"){t=g.getDate(true);(t.getFullYear()!==za.getFullYear()||t.getMonth()!==za.getMonth()||t.getDate()!==za.getDate())&&y()}else za=g.getDate(true);S[da].removeClass("dwc-h");x(a(".dwwc",S[da]))}});ba=="liquid"&&C.display!=="bubble"?k.addClass("dw-cal-liq"):C.calendarWidth&&a(".dw-cal",n).width(C.calendarWidth);C.calendarHeight&&a(".dw-cal-anim-c",n).height(C.calendarHeight);g.context.on("orientationchange.dw-cal resize.dw-cal",function(){clearTimeout(Ba);Ba=setTimeout(function(){ca&&A();K();
g.trigger("onCalResize",[]);b=c.width()},100)});l=f=0;if(C.swipe){var q,T,ma,ea,s,aa,oa,ha,v,V=C.liveSwipe,ua=window.requestAnimationFrame||function(a){a()},qa=window.cancelAnimationFrame||Ea,wa=function(a){if(!v&&!va){v=true;ma=new Date;f=l;sa=m(a,"X");$=m(a,"Y")}},Fa=function(){s=v=false;if(aa){aa=false;qa(q);T=false;ea=new Date-ma;oa=ea<300?na-sa<-50:V&&l-f<-40;(ha=ea<300?na-sa>50:V&&l-f>40)&&new Date(O,P-1,1)>=Y?w(O,--P,"prev",false," ease-out"):oa&&new Date(O,P+1,1)<=Q?w(O,++P,"next",false," ease-out"):
V&&F(f,200,false," ease-out")}},Ja=function(a){va&&a.preventDefault();if(v){na=m(a,"X");if(!aa&&!s){M=m(a,"Y");Math.abs(na-sa)>10?aa=true:!g.scrollLock&&Math.abs(M-$)>20&&(s=true)}aa&&a.preventDefault();if(aa&&V&&!T){T=true;q=ua(Aa)}}},Aa=function(){F(f+(na-sa)*100/b);T=false};J.on("touchstart",wa).on("touchmove",Ja).on("touchend touchcancel",Fa).on("mousedown",function(b){if(!ta){wa(b);a(document).on("mousemove.dwsw",Ja).on("mouseup.dwsw",function(){Fa();a(document).off("dwsw")})}})}},onMarkupInserted:function(){A()},
onShow:function(){K();u(O,P);b=c.width()},onPosition:function(){if(ba=="liquid"&&C.display=="modal"){J.height("auto");var b=g.context[0].innerHeight||g.context.innerHeight(),c=a(".dw",n).outerHeight(),f=c-J.height();b>c&&J.height(b-f)}},onClose:function(){g.context.off(".dw-cal");pa=null},validate:function(a,b){qa.call(this,a,b);g.trigger("onSetDate",[]);y()}});return B}})(jQuery);(function(a){var t=a.mobiscroll,z={firstSelectDay:0,eventText:"event",eventsText:"events"};t.presetShort("calendar");t.presets.calendar=function(h){function q(c){if(c){if(b[c])return b[c];var f=a('<div style="background-color:'+c+';"></div>').appendTo("body"),e=(window.getComputedStyle?getComputedStyle(f[0]):f[0].style).backgroundColor.replace(/rgb|rgba|\(|\)|\s/g,"").split(","),e=130<0.299*e[0]+0.587*e[1]+0.114*e[2]?"#000":"#fff";f.remove();return b[c]=e}}function g(b,c){var l=p[b.getTime()];if(l){var D,
g;g=a(".dw-cal-c",x).height();var G=c.height(),n=c.width(),r=c.offset().top-a(".dw-cal-c",x).offset().top,E=2>c.closest(".dw-cal-row").index(),y='<ul class="dw-cal-event-list"'+(f?' data-role="listview"':"")+">";L=0;B=!1;w=c;c.addClass(o);a.each(l,function(a,b){D=b.color;q(D);y+='<li class="dw-cal-event"><div class="dw-cal-event-color" style="'+(D?"background:"+D+";":"")+'"></div>'+b.text+"</li>"});y+="</ul>";A.html(y);f&&(a(".dw-i",w).addClass("ui-btn-active"),e.page().trigger("create"));g=e.addClass("dw-cal-events-t").css({top:E?
r+G:"0",bottom:E?"0":g-r}).addClass("dw-cal-events-v").height();H=g-A.height();e.css(E?"bottom":"top","auto").removeClass("dw-cal-events-t");m.css("max-height",g);k(0);E?e.addClass("dw-cal-events-b"):e.removeClass("dw-cal-events-b");a(".dw-cal-events-arr",e).css("left",c.offset().left-e.offset().left+n/2);h.tap(a(".dw-cal-event",A),function(c){B||h.trigger("onEventSelect",[c,l[a(this).index()],b])});K=!0}}function E(){e&&e.removeClass("dw-cal-events-v");w&&(w.removeClass(o),f&&a(".dw-i",w).removeClass("ui-btn-active"));
K=!1}function r(){X&&E();h.changing?h.needRefresh=!0:h.refresh()}function k(a){t.util.has3d?A.css(t.util.prefix+"-transform","translateY("+a+"px)"):A.css("top",a)}function u(a,b){var c=a.originalEvent,f=a.changedTouches;return f||c&&c.changedTouches?c?c.changedTouches[0]["page"+b]:f[0]["page"+b]:a["page"+b]}var y,x,e,w,p,m,A,K,F,H,L,I,B,n,J,c,b={};I=a.extend({},h.settings);var l=a.extend(h.settings,z,I),f="jqm"==l.theme,o="dw-sel dw-cal-day-ev",G=l.multiSelect||"week"==l.selectType,N=l.markedDisplay,
W=!0===l.events||!0===l.markedText,ga=0,ka=[],X=a.isArray(l.events),ia=X?l.events.slice(0):[];I=a.mobiscroll.presets.calbase.call(this,h);y=a.extend({},I);if(l.selectedValues)for(i=0;i<l.selectedValues.length;i++)d=l.selectedValues[i],h._selectedValues[d]=d;X&&a.each(ia,function(a,b){b._id=ga++});h.onGenMonth=function(a,b){p=h.prepareObj(ia,a,b);F=h.prepareObj(l.marked,a,b)};h.getDayProps=function(a){var b=new Date,c=a.getTime(),a=G?void 0!==h._selectedValues[a]:X?c===b.setHours(0,0,0,0):void 0,e=
F[c]?F[c][0]:!1,o=p[c]?p[c][0]:!1,b=e||o,c=e.text||(W&&o?p[c].length+" "+(1<p[c].length?l.eventsText:l.eventText):0),e=b.color,o=W&&c?q(e):"";return{marked:b,selected:a,cssClass:X&&a?"dw-cal-day-hl":"",markup:W&&c?'<div class="dw-cal-day-txt-c"><div class="dw-cal-day-txt'+(f?" ui-btn-up-b":"")+'" title="'+c+'"'+(e?' style="background:'+e+";color:"+o+';text-shadow:none;"':"")+">"+c+"</div></div>":b?'<div class="dw-cal-day-m"'+(e?' style="background-color:'+e+";border-color:"+e+" "+e+' transparent transparent"':
"")+"></div>":""}};h.addValue=function(a){h._selectedValues[a]=a;r()};h.removeValue=function(a){delete h._selectedValues[a];r()};h.setValues=function(a){var b=0;h._selectedValues={};for(b;b<a.length;b++)h._selectedValues[a[b]]=a[b];r()};X&&(h.addEvent=function(b){var c=[],b=a.isArray(b)?b:[b];a.each(b,function(a,b){b._id=ga++;ia.push(b);c.push(b._id)});r();return c},h.removeEvent=function(b){b=a.isArray(b)?b:[b];a.each(b,function(b,c){a.each(ia,function(a,b){if(b._id===c)return ia.splice(a,1),!1})});
r()},h.getEvents=function(){return ia},h.setEvents=function(b){var c=[];ia=b.slice(0);a.each(ia,function(a,b){b._id=ga++;c.push(b._id)});r();return c});a.extend(I,{highlight:!G&&!X,divergentDayChange:!G,buttons:X?["cancel"]:l.buttons,onClear:function(){if(G){h._selectedValues={};h.refresh()}},onBeforeShow:function(){if(X){h.getDate(true);l.headerText=false}if(l.counter&&G)l.headerText=function(){var b=0,c=l.selectType=="week"?7:1;a.each(h._selectedValues,function(){b++});return b/c+" "+l.selectedText}},
onMarkupReady:function(b){y.onMarkupReady.call(this,b);x=b;if(G){a(".dwv",b).attr("aria-live","off");ka=a.extend({},h._selectedValues)}W&&a(".dw-cal",b).addClass("dw-cal-ev");N&&a(".dw-cal",b).addClass("dw-cal-m-"+N);if(X){b.addClass("dw-cal-em");e=a('<div class="dw-cal-events'+(f?' ui-body-a" data-role="page':"")+'"><div class="dw-cal-events-arr"></div><div class="dw-cal-events-i"><div class="dw-cal-events-sc"></div></div></div>').appendTo(a(".dw-cal-c",b));m=a(".dw-cal-events-i",e);A=a(".dw-cal-events-sc",
e);e.on("touchstart mousedown",function(b){if(H<0){J=b.type==="touchstart";B=false;n=L;startY=u(b,"Y");endY=u(b,"Y");a(document).on(J?"touchmove.dwsc":"mousemove.dwsc",function(a){a.preventDefault();endY=u(a,"Y");L=Math.min(0,Math.max(n+endY-startY,H));k(L);Math.abs(endY-startY)>5&&(B=true)}).on(J?"touchend.dwsc":"mouseup.dwsc",function(){a(document).off(".dwsc")})}});h.tap(e,function(){B||E()})}},onMonthChange:function(){X&&E()},onMonthLoaded:function(){if(c){g(c.d,a('.dw-cal-day-v[data-full="'+
c.full+'"]',h.month));c=false}},onDayChange:function(b){var e=b.date,o=a(b.cell),b=b.selected;if(X){E();o.hasClass("dw-cal-day-ev")||(o.hasClass("dw-cal-day-diff")?c={d:e,full:o.attr("data-full")}:g(e,o))}else if(G)if(l.selectType=="week"){var D,m=e.getDay()-l.firstSelectDay,m=m<0?7+m:m;if(!l.multiSelect)h._selectedValues={};for(o=0;o<7;o++){D=new Date(e.getFullYear(),e.getMonth(),e.getDate()-m+o);b?delete h._selectedValues[D]:h._selectedValues[D]=D}r()}else{o=a('.dw-cal .dw-cal-day[data-full="'+
o.attr("data-full")+'"]',x);f&&a(".dw-i",o).toggleClass("ui-btn-active");if(b){o.removeClass("dw-sel").removeAttr("aria-selected");delete h._selectedValues[e]}else{o.addClass("dw-sel").attr("aria-selected","true");h._selectedValues[e]=e}}if(!X&&!l.multiSelect&&l.closeOnSelect&&l.display!=="inline"){h.setDate(e);h.select();return false}},onCalResize:function(){K&&a(".dw-cal-events-arr",e).css("left",w.offset().left-e.offset().left+w.width()/2)},onCancel:function(){if(!h.live&&G)h._selectedValues=a.extend({},
ka)}});return I}})(jQuery);(function(a){var t=a.mobiscroll,z=new Date,h={dateFormat:"mm/dd/yy",dateOrder:"mmddy",timeWheels:"hhiiA",timeFormat:"hh:ii A",startYear:z.getFullYear()-100,endYear:z.getFullYear()+1,monthNames:"January,February,March,April,May,June,July,August,September,October,November,December".split(","),monthNamesShort:"Jan,Feb,Mar,Apr,May,Jun,Jul,Aug,Sep,Oct,Nov,Dec".split(","),dayNames:"Sunday,Monday,Tuesday,Wednesday,Thursday,Friday,Saturday".split(","),dayNamesShort:"Sun,Mon,Tue,Wed,Thu,Fri,Sat".split(","),
shortYearCutoff:"+10",monthText:"Month",dayText:"Day",yearText:"Year",hourText:"Hours",minuteText:"Minutes",secText:"Seconds",ampmText:"&nbsp;",nowText:"Now",showNow:!1,stepHour:1,stepMinute:1,stepSecond:1,separator:" "},q=function(g){function E(a,f,e){return void 0!==c[f]?+a[c[f]]:void 0!==e?e:ka[b[f]]?ka[b[f]]():b[f](ka)}function r(a,b,c,f){a.push({values:c,keys:b,label:f})}function k(a,b){return Math.floor(a/b)*b}function u(a){var b=E(a,"h",0);return new Date(E(a,"y"),E(a,"m"),E(a,"d",1),E(a,"a")?
b+12:b,E(a,"i",0),E(a,"s",0))}function y(b,c){return a(".dw-li",b).index(a('.dw-li[data-val="'+c+'"]',b))}var x=a(this),e={},w;if(x.is("input")){switch(x.attr("type")){case "date":w="yy-mm-dd";break;case "datetime":w="yy-mm-ddTHH:ii:ssZ";break;case "datetime-local":w="yy-mm-ddTHH:ii:ss";break;case "month":w="yy-mm";e.dateOrder="mmyy";break;case "time":w="HH:ii:ss"}var p=x.attr("min"),x=x.attr("max");p&&(e.minDate=t.parseDate(w,p));x&&(e.maxDate=t.parseDate(w,x))}var m,A,q,z,H,L,I,p=a.extend({},g.settings),
B=a.extend(g.settings,h,e,p),n=0,x=[],J=[],c={},b={y:"getFullYear",m:"getMonth",d:"getDate",h:function(a){a=a.getHours();a=W&&12<=a?a-12:a;return k(a,X)},i:function(a){return k(a.getMinutes(),ia)},s:function(a){return k(a.getSeconds(),Y)},a:function(a){return N&&11<a.getHours()?1:0}},l=B.preset,f=B.dateOrder,o=B.timeWheels,G=f.match(/D/),N=o.match(/a/i),W=o.match(/h/),ga="datetime"==l?B.dateFormat+B.separator+B.timeFormat:"time"==l?B.timeFormat:B.dateFormat,ka=new Date,X=B.stepHour,ia=B.stepMinute,
Y=B.stepSecond,Q=B.minDate||new Date(B.startYear,0,1),U=B.maxDate||new Date(B.endYear,11,31,23,59,59);w=w||ga;if(l.match(/date/i)){a.each(["y","m","d"],function(a,b){m=f.search(RegExp(b,"i"));-1<m&&J.push({o:m,v:b})});J.sort(function(a,b){return a.o>b.o?1:-1});a.each(J,function(a,b){c[b.v]=a});p=[];for(e=0;3>e;e++)if(e==c.y){n++;q=[];A=[];z=Q.getFullYear();H=U.getFullYear();for(m=z;m<=H;m++)A.push(m),q.push(f.match(/yy/i)?m:(m+"").substr(2,2));r(p,A,q,B.yearText)}else if(e==c.m){n++;q=[];A=[];for(m=
0;12>m;m++)z=f.replace(/[dy]/gi,"").replace(/mm/,9>m?"0"+(m+1):m+1).replace(/m/,m+1),A.push(m),q.push(z.match(/MM/)?z.replace(/MM/,'<span class="dw-mon">'+B.monthNames[m]+"</span>"):z.replace(/M/,'<span class="dw-mon">'+B.monthNamesShort[m]+"</span>"));r(p,A,q,B.monthText)}else if(e==c.d){n++;q=[];A=[];for(m=1;32>m;m++)A.push(m),q.push(f.match(/dd/i)&&10>m?"0"+m:m);r(p,A,q,B.dayText)}x.push(p)}if(l.match(/time/i)){I=!0;J=[];a.each(["h","i","s","a"],function(a,b){a=o.search(RegExp(b,"i"));-1<a&&J.push({o:a,
v:b})});J.sort(function(a,b){return a.o>b.o?1:-1});a.each(J,function(a,b){c[b.v]=n+a});p=[];for(e=n;e<n+4;e++)if(e==c.h){n++;q=[];A=[];for(m=0;m<(W?12:24);m+=X)A.push(m),q.push(W&&0==m?12:o.match(/hh/i)&&10>m?"0"+m:m);r(p,A,q,B.hourText)}else if(e==c.i){n++;q=[];A=[];for(m=0;60>m;m+=ia)A.push(m),q.push(o.match(/ii/)&&10>m?"0"+m:m);r(p,A,q,B.minuteText)}else if(e==c.s){n++;q=[];A=[];for(m=0;60>m;m+=Y)A.push(m),q.push(o.match(/ss/)&&10>m?"0"+m:m);r(p,A,q,B.secText)}else e==c.a&&(n++,A=o.match(/A/),
r(p,[0,1],A?["AM","PM"]:["am","pm"],B.ampmText));x.push(p)}g.setDate=function(a,f,e,l){for(var o in c)g.temp[c[o]]=a[b[o]]?a[b[o]]():b[o](a);g.setValue(g.temp,f,e,l)};g.getDate=function(a){return u(a?g.temp:g.values)};g.convert=function(b){var c=b;a.isArray(b)||(c=[],a.each(b,function(b,f){a.each(f,function(a,f){"daysOfWeek"===b&&(f.d?f.d="w"+f.d:f="w"+f);c.push(f)})}));return c};g.format=ga;g.buttons.now={text:B.nowText,css:"dwb-n",handler:function(){g.setDate(new Date,!1,0.3,!0,!0)}};B.showNow&&
B.buttons.splice(a.inArray("set",B.buttons)+1,0,"now");L=B.invalid?g.convert(B.invalid):!1;return{wheels:x,headerText:B.headerText?function(){return t.formatDate(ga,u(g.temp),B)}:!1,formatResult:function(a){return t.formatDate(w,u(a),B)},parseValue:function(a){var a=t.parseDate(w,a,B),f,e=[];for(f in c)e[c[f]]=a[b[f]]?a[b[f]]():b[f](a);return e},validate:function(e,l,o,m){var h=g.temp,n={y:Q.getFullYear(),m:0,d:1,h:0,i:0,s:0,a:0},r={y:U.getFullYear(),m:11,d:31,h:k(W?11:23,X),i:k(59,ia),s:k(59,Y),
a:1},p={h:X,i:ia,s:Y,a:1},q=E(h,"y"),A=E(h,"m"),w=!0,z=!0;a.each("y,m,d,a,h,i,s".split(","),function(l,o){if(c[o]!==void 0){var k=n[o],p=r[o],x=31,u=E(h,o),N=a(".dw-ul",e).eq(c[o]);if(o=="d"){p=x=32-(new Date(q,A,32)).getDate();G&&a(".dw-li",N).each(function(){var b=a(this),c=b.data("val"),e=(new Date(q,A,c)).getDay(),c=f.replace(/[my]/gi,"").replace(/dd/,c<10?"0"+c:c).replace(/d/,c);a(".dw-i",b).html(c.match(/DD/)?c.replace(/DD/,'<span class="dw-day">'+B.dayNames[e]+"</span>"):c.replace(/D/,'<span class="dw-day">'+
B.dayNamesShort[e]+"</span>"))})}w&&Q&&(k=Q[b[o]]?Q[b[o]]():b[o](Q));z&&U&&(p=U[b[o]]?U[b[o]]():b[o](U));if(o!="y"){var F=y(N,k),t=y(N,p);a(".dw-li",N).removeClass("dw-v").slice(F,t+1).addClass("dw-v");o=="d"&&a(".dw-li",N).removeClass("dw-h").slice(x).addClass("dw-h")}u<k&&(u=k);u>p&&(u=p);w&&(w=u==k);z&&(z=u==p);if(L&&o=="d"){for(var s,p=(new Date(q,A,1)).getDay(),F=[],k=0;k<L.length;k++){t=L[k];s=t+"";if(!t.start)if(t.getTime)t.getFullYear()==q&&t.getMonth()==A&&F.push(t.getDate()-1);else if(s.match(/w/i)){s=
+s.replace("w","");for(t=s-p;t<x;t=t+7)t>=0&&F.push(t)}else{s=s.split("/");s[1]?s[0]-1==A&&F.push(s[1]-1):F.push(s[0]-1)}}a.each(F,function(b,c){a(".dw-li",N).eq(c).removeClass("dw-v")});u=g.getValidCell(u,N,m).val}h[c[o]]=u}});if(I&&L){var x,u,N,F,t,H,J,ga,K,ka,C,xa,Z,ba,R,fa,V={},ca=E(h,"d"),T=new Date(q,A,ca),ra=["a","h","i","s"];a.each(L,function(a,b){if(b.start&&(b.apply=!1,x=b.d,u=x+"",F=u.split("/"),x&&(x.getTime&&q==x.getFullYear()&&A==x.getMonth()&&ca==x.getDate()||!u.match(/w/i)&&(F[1]&&
ca==F[1]&&A==F[0]-1||!F[1]&&ca==F[0])||u.match(/w/i)&&T.getDay()==+u.replace("w",""))))b.apply=!0,V[T]=!0});a.each(L,function(b,f){if(f.start&&(f.apply||!f.d&&!V[T])){t=f.start.split(":");H=f.end.split(":");for(J=0;3>J;J++)void 0===t[J]&&(t[J]=0),void 0===H[J]&&(H[J]=59),t[J]=+t[J],H[J]=+H[J];t.unshift(11<t[0]?1:0);H.unshift(11<H[0]?1:0);W&&(12<=t[1]&&(t[1]-=12),12<=H[1]&&(H[1]-=12));Z=xa=!0;a.each(ra,function(b,f){if(c[f]!==void 0){N=E(h,f);ka=fa=R=0;C=void 0;ba=a(".dw-ul",e).eq(c[f]);for(J=b+1;J<
4;J++){t[J]>0&&(R=p[f]);H[J]<r[ra[J]]&&(fa=p[f])}ga=k(t[b]+R,p[f]);K=k(H[b]-fa,p[f]);xa&&(ka=ga<0?0:ga>r[f]?a(".dw-li",ba).length:y(ba,ga)+0);Z&&(C=K<0?0:K>r[f]?a(".dw-li",ba).length:y(ba,K)+1);(xa||Z)&&a(".dw-li",ba).slice(ka,C).removeClass("dw-v");N=g.getValidCell(N,ba,m).val;xa=xa&&N==k(t[b],p[f]);Z=Z&&N==k(H[b],p[f]);h[c[f]]=N}})}})}}}};a.each(["date","time","datetime"],function(a,h){t.presets[h]=q;t.presetShort(h)});t.formatDate=function(g,q,r){if(!q)return null;var r=a.extend({},h,r),k=function(a){for(var e=
0;x+1<g.length&&g.charAt(x+1)==a;)e++,x++;return e},u=function(a,e,g){e=""+e;if(k(a))for(;e.length<g;)e="0"+e;return e},y=function(a,e,g,h){return k(a)?h[e]:g[e]},x,e="",w=!1;for(x=0;x<g.length;x++)if(w)"'"==g.charAt(x)&&!k("'")?w=!1:e+=g.charAt(x);else switch(g.charAt(x)){case "d":e+=u("d",q.getDate(),2);break;case "D":e+=y("D",q.getDay(),r.dayNamesShort,r.dayNames);break;case "o":e+=u("o",(q.getTime()-(new Date(q.getFullYear(),0,0)).getTime())/864E5,3);break;case "m":e+=u("m",q.getMonth()+1,2);
break;case "M":e+=y("M",q.getMonth(),r.monthNamesShort,r.monthNames);break;case "y":e+=k("y")?q.getFullYear():(10>q.getYear()%100?"0":"")+q.getYear()%100;break;case "h":var p=q.getHours(),e=e+u("h",12<p?p-12:0==p?12:p,2);break;case "H":e+=u("H",q.getHours(),2);break;case "i":e+=u("i",q.getMinutes(),2);break;case "s":e+=u("s",q.getSeconds(),2);break;case "a":e+=11<q.getHours()?"pm":"am";break;case "A":e+=11<q.getHours()?"PM":"AM";break;case "'":k("'")?e+="'":w=!0;break;default:e+=g.charAt(x)}return e};
t.parseDate=function(g,q,r){var k=a.extend({},h,r),r=k.defaultValue||new Date;if(!g||!q)return r;var q="object"==typeof q?q.toString():q+"",u=k.shortYearCutoff,y=r.getFullYear(),x=r.getMonth()+1,e=r.getDate(),w=-1,p=r.getHours(),m=r.getMinutes(),t=0,z=-1,F=!1,H=function(a){(a=n+1<g.length&&g.charAt(n+1)==a)&&n++;return a},L=function(a){H(a);a=q.substr(B).match(RegExp("^\\d{1,"+("@"==a?14:"!"==a?20:"y"==a?4:"o"==a?3:2)+"}"));if(!a)return 0;B+=a[0].length;return parseInt(a[0],10)},I=function(a,c,b){a=
H(a)?b:c;for(c=0;c<a.length;c++)if(q.substr(B,a[c].length).toLowerCase()==a[c].toLowerCase())return B+=a[c].length,c+1;return 0},B=0,n;for(n=0;n<g.length;n++)if(F)"'"==g.charAt(n)&&!H("'")?F=!1:B++;else switch(g.charAt(n)){case "d":e=L("d");break;case "D":I("D",k.dayNamesShort,k.dayNames);break;case "o":w=L("o");break;case "m":x=L("m");break;case "M":x=I("M",k.monthNamesShort,k.monthNames);break;case "y":y=L("y");break;case "H":p=L("H");break;case "h":p=L("h");break;case "i":m=L("i");break;case "s":t=
L("s");break;case "a":z=I("a",["am","pm"],["am","pm"])-1;break;case "A":z=I("A",["am","pm"],["am","pm"])-1;break;case "'":H("'")?B++:F=!0;break;default:B++}100>y&&(y+=(new Date).getFullYear()-(new Date).getFullYear()%100+(y<=("string"!=typeof u?u:(new Date).getFullYear()%100+parseInt(u,10))?0:-100));if(-1<w){x=1;e=w;do{k=32-(new Date(y,x-1,32)).getDate();if(e<=k)break;x++;e-=k}while(1)}p=new Date(y,x-1,e,-1==z?p:z&&12>p?p+12:!z&&12==p?0:p,m,t);return p.getFullYear()!=y||p.getMonth()+1!=x||p.getDate()!=
e?r:p}})(jQuery);(function(a){var t=a.mobiscroll,z={invalid:[],showInput:!0,inputClass:""},h=function(h){function g(b,c,f,e){for(var g=0;g<c;){var h=a(".dwwl"+g,b),m=t(e,g,f);a.each(m,function(b,c){a('.dw-li[data-val="'+c+'"]',h).removeClass("dw-v")});g++}}function t(a,c,f){for(var e=0,g,h=[];e<c;){var m=a[e];for(g in f)if(f[g].key==m){f=f[g].children;break}e++}for(e=0;e<f.length;)f[e].invalid&&h.push(f[e].key),e++;return h}function r(a,c){for(var f=[];a;)f[--a]=!0;f[c]=!1;return f}function k(a,c,f){var e=0,g,h,m=
[],k=I;if(c)for(g=0;g<c;g++)m[g]=[{}];for(;e<a.length;){g=m;for(var c=e,n=k,p={keys:[],values:[],label:B[e]},q=0;q<n.length;)p.values.push(n[q].value),p.keys.push(n[q].key),q++;g[c]=[p];g=0;for(c=void 0;g<k.length&&void 0===c;){if(k[g].key==a[e]&&(void 0!==f&&e<=f||void 0===f))c=g;g++}if(void 0!==c&&k[c].children)e++,k=k[c].children;else if((h=u(k))&&h.children)e++,k=h.children;else break}return m}function u(a,c){if(!a)return!1;for(var f=0,e;f<a.length;)if(!(e=a[f++]).invalid)return c?f-1:e;return!1}
function y(b,c){a(".dwc",b).css("display","").slice(c).hide()}function x(a,c){var f=[],e=I,g=0,h=!1,m,k;if(void 0!==a[g]&&g<=c){h=0;m=a[g];for(k=void 0;h<e.length&&void 0===k;)e[h].key==a[g]&&!e[h].invalid&&(k=h),h++}else k=u(e,!0),m=e[k].key;h=void 0!==k?e[k].children:!1;for(f[g]=m;h;){e=e[k].children;g++;if(void 0!==a[g]&&g<=c){h=0;m=a[g];for(k=void 0;h<e.length&&void 0===k;)e[h].key==a[g]&&!e[h].invalid&&(k=h),h++}else k=u(e,!0),k=!1===k?void 0:k,m=e[k].key;h=void 0!==k&&u(e[k].children)?e[k].children:
!1;f[g]=m}return{lvl:g+1,nVector:f}}function e(b){var c=[];F=F>H++?F:H;b.children("li").each(function(b){var g=a(this),h=g.clone();h.children("ul,ol").remove();var h=h.html().replace(/^\s\s*/,"").replace(/\s\s*$/,""),k=g.data("invalid")?!0:!1,b={key:g.data("val")||b,value:h,invalid:k,children:null},g=g.children("ul,ol");g.length&&(b.children=e(g));c.push(b)});H--;return c}var w=a.extend({},h.settings),p=a.extend(h.settings,z,w),m=a(this),A,K,w=this.id+"_dummy",F=0,H=0,L={},I=p.wheelArray||e(m),B=
function(a){var c=[],e;for(e=0;e<a;e++)c[e]=p.labels&&p.labels[e]?p.labels[e]:e;return c}(F),n=[],J=function(a){var c=[],e;e=!0;for(var g=0;e;)e=u(a),c[g++]=e.key,(e=e.children)&&(a=e);return c}(I),c=k(J,F);a("#"+w).remove();p.showInput&&(A=a('<input type="text" id="'+w+'" value="" class="'+p.inputClass+'" readonly />').insertBefore(m),p.anchor=A,h.attachShow(A));p.wheelArray||m.hide().closest(".ui-field-contain").trigger("create");return{width:50,wheels:c,headerText:!1,parseValue:function(){return p.defaultValue||
J},onBeforeShow:function(){var a=h.temp;n=a.slice(0);p.wheels=k(a,F,F);K=true},onSelect:function(a){A&&A.val(a)},onChange:function(a,c){A&&c.live&&A.val(a)},onShow:function(b){a(".dwwl",b).on("mousedown touchstart",function(){clearTimeout(L[a(".dwwl",b).index(this)])})},onDestroy:function(){A&&A.remove();m.show()},validate:function(a,c,e,o){var m=[],u=h.temp,w=(c||0)+1,t;if(c!==void 0&&n[c]!=u[c]||c===void 0&&!K){p.wheels=k(u,null,c);t=x(u,c);if(c!==void 0)h.temp=t.nVector.slice(0);for(;w<t.lvl;)m.push(w++);
if(m.length){p.readonly=r(F,c);clearTimeout(L[c]);L[c]=setTimeout(function(){K=true;y(a,t.lvl);n=h.temp.slice(0);h.changeWheel(m,c===void 0?e:0,o);p.readonly=false},c===void 0?0:e*1E3);return false}g(a,t.lvl,I,h.temp)}else{t=x(u,u.length);g(a,t.lvl,I,u);y(a,t.lvl)}K=false}}};a.each(["list","image","treelist"],function(a,g){t.presets[g]=h;t.presetShort(g)})})(jQuery);(function(a){var t=a.mobiscroll,z={fromText:"Start",toText:"End"};t.presetShort("rangepicker");t.presets.rangepicker=function(h){function q(a,b){a.setFullYear(b.getFullYear());a.setMonth(b.getMonth());a.setDate(b.getDate())}function g(){e=A;w=K;p=F;m=H;c.startInput&&a(c.startInput).val(w).change();c.endInput&&a(c.endInput).val(m).change()}var E,r,k,u,y,x,e,w,p,m,A,K,F,H,L,I,B,n=0;y=new Date;var J=a.extend({},h.settings),c=a.extend(h.settings,z,J),b="jqm"===c.theme,l=c.defaultValue||[new Date(y.setHours(0,
0,0,0)),new Date(y.setHours(23,59,59,999))];y=a.mobiscroll.presets.calbase.call(this,h);r=a.extend({},y);u=h.format;L="time"===c.controls.join("");c.startInput&&(I=a(c.startInput).prop("readonly"),h.attachShow(a(c.startInput).prop("readonly",!0),function(){n=0}));c.endInput&&(B=a(c.endInput).prop("readonly"),h.attachShow(a(c.endInput).prop("readonly",!0),function(){n=1}));h._setValue||(h._setValue=h.setValue);h.setValue=function(a,b,g,l){var k=a;if(a[0]&&a[0].getTime){A=a[0];K=t.formatDate(u,A,c);
n||(k=r.parseValue(K))}if(a[1]&&a[1].getTime){F=a[1];H=t.formatDate(u,F,c);n&&(k=r.parseValue(H))}if(!l){e=A;w=K;p=F;m=H}h._setValue.call(this,k,b,g,l)};h.getValue=function(){return[e,p]};h.getDayProps=function(a){var b=new Date(A.getFullYear(),A.getMonth(),A.getDate()),c=new Date(F.getFullYear(),F.getMonth(),F.getDate());return{selected:a>=b&&a<=F,cssClass:!n&&b.getTime()===a.getTime()||n&&c.getTime()===a.getTime()?"dw-cal-day-hl":""}};a.extend(y,{highlight:!1,divergentDayChange:!1,formatResult:function(){return K+
(c.endInput?"":" - "+H)},parseValue:function(b){b=b.split(" - ");c.defaultValue=l[1];p=c.endInput?t.parseDate(u,a(c.endInput).val(),c):t.parseDate(u,b[1],c);c.defaultValue=l[0];e=c.startInput?t.parseDate(u,a(c.startInput).val(),c):t.parseDate(u,b[0],c);c.defaultValue=l[n];w=t.formatDate(u,e,c);m=t.formatDate(u,p,c);return r.parseValue(n?m:w,h)},onChange:function(){h.live&&g()},onSelect:function(){g()},onClear:function(){c.startInput&&a(c.startInput).val("");c.endInput&&a(c.endInput).val("")},onBeforeShow:function(){c.headerText=
false;if(c.counter)c.headerText=function(){return Math.round(((new Date(H)).getTime()-(new Date(K)).getTime())/864E5)+1+" "+c.selectedText};A=e;K=w;F=p;H=m;x=true},onMarkupReady:function(e){var g;k=e;r.onMarkupReady.call(this,e);e.addClass("dw-rangepicker");g='<div class="dw-dr-t" role="radiogroup"><div class="dw-dr-c dw-dr0"><a href="#" role="radio" data-role="button" data-mini="true" class="dwb-e dwb-nhl dw-i dw-dr">'+c.fromText+'<div class="dw-drv dw-drv0">'+w+'</div></a></div><div class="dw-dr-c dw-dr1"><a href="#" role="radio" data-role="button" data-mini="true" class="dwb-e dwb-nhl dw-i dw-dr">'+
c.toText+'<div class="dw-drv dw-drv1">'+m+"</div></a></div></div>";a(".dw-cal-tabs",e).before(g);E=a(".dw-dr"+n,e).addClass("dw-sel").attr("aria-checked","true");b&&a(".dw-dr",E).addClass("ui-btn-active");a(".dw-dr-c",e).on("touchstart click",function(c){var e=a(this);if(c.type=="touchstart")e.data("click",true);else if(e.data("click")){e.data("click",null);return}if(!e.hasClass("dw-sel")){n=e.index();E.removeClass("dw-sel").removeAttr("aria-checked");E=e.addClass("dw-sel").attr("aria-checked","true");
if(b){a(".dw-dr",k).removeClass("ui-btn-active");a(".dw-dr",E).addClass("ui-btn-active")}c=n?F:A;a(".dw-cal-table .dw-sel",k).removeClass("dw-cal-day-hl");a('.dw-cal-day[data-full="'+c.getFullYear()+"-"+c.getMonth()+"-"+c.getDate()+'"]',k).addClass("dw-cal-day-hl");x=true;h.setDate(c,false,0.2,true)}})},onSetDate:function(){if(!x){var e,g,l,m=0;e=r.formatResult.call(this,h.temp);g=h.getDate(true);a(".dw-drv"+n,k).text(e);if(n){F=g;H=e}else{A=g;K=e}if(L){q(A,g);q(F,g)}if(A>F)if(n){A=new Date(F.getTime());
A.setHours(0,0,0,0);K=t.formatDate(u,A,c);a(".dw-drv0",k).text(K)}else{F=new Date(A.getTime());F.setHours(23,59,59,999);H=t.formatDate(u,F,c);a(".dw-drv1",k).text(H)}e=new Date(A);g=new Date(F);l=n?g:e;a(".dw-cal-table .dw-sel",k).removeClass("dw-sel dw-cal-day-hl").removeAttr("aria-selected");a('.dw-cal-day[data-full="'+l.getFullYear()+"-"+l.getMonth()+"-"+l.getDate()+'"]',k).addClass("dw-cal-day-hl");for(b&&a(".dw-cal-table .ui-btn-active",k).removeClass("ui-btn-active");g>=e&&m<84;){a('.dw-cal-day[data-full="'+
l.getFullYear()+"-"+l.getMonth()+"-"+l.getDate()+'"]',k).addClass("dw-sel").attr("aria-selected","true").find(".dw-i").addClass(b?"ui-btn-active":"");l.setDate(l.getDate()+(n?-1:1));m++}}x=false},onDestroy:function(){a(c.startInput).prop("readonly",I);a(c.endInput).prop("readonly",B)}});return y}})(jQuery);(function(a){var t={inputClass:"",values:5,order:"desc",style:"star",invalid:[]};a.mobiscroll.presetShort("rating");a.mobiscroll.presets.rating=function(z){var h=a.extend({},z.settings),q=a.extend(z.settings,t,h),g=a(this),h=this.id+"_dummy";a('label[for="'+this.id+'"]').attr("for",h);var E=a('label[for="'+h+'"]'),r=[[]],E={keys:[],values:[],labels:[],label:void 0!==q.label?q.label:E.length?E.text():g.attr("name")},k={},u=[],y,x=!1,e,w,p,m,A,K="grade"===q.style?"circle":"star";g.is("select")&&(q.values=
{},a("option",g).each(function(){q.values[a(this).val()]=a(this).text()}),a("#"+h).remove());if(a.isArray(q.values))for(e=0;e<q.values.length;e++)p=+q.values[e],isNaN(p)&&(p=e+1,x=!0),u.push({order:p,key:q.values[e],value:q.values[e]});else if(a.isPlainObject(q.values))for(w in e=1,x=!0,q.values)p=+w,isNaN(p)&&(p=e),u.push({order:p,key:w,value:q.values[w]}),e++;else for(e=1;e<=q.values;e++)u.push({order:e,key:e,value:e});void 0===q.showText&&x&&(q.showText=!0);u.sort(function(a,e){return q.order==
"desc"?e.order-a.order:a.order-e.order});A="desc"==q.order?u[0].order:u[u.length-1].order;for(e=0;e<u.length;e++){order=u[e].order;p=u[e].key;m=u[e].value;x="";for(w=1;w<order+1;w++)x+='<div class="rating-star-cont"><div class="rating-'+K+" rating-filled-"+K+'">'+("circle"==K?w:"")+"</div></div>";for(w=order+1;w<=A;w++)x+='<div class="rating-star-cont"><div class="rating-'+K+" rating-unfilled-"+K+'"></div></div>';x+=q.showText?" "+m:"";E.keys.push(p);E.values.push(x);E.labels.push(m);k[p]=m}g.is("select")&&
(y=a('<input type="text" id="'+h+'" value="'+k[g.val()]+'" class="'+q.inputClass+'" readonly />').insertBefore(g));r[0].push(E);y&&z.attachShow(y);g.is("select")&&g.hide().closest(".ui-field-contain").trigger("create");return{height:"wp"===q.theme||"wp light"===q.theme?76:40,anchor:y,wheels:r,headerText:!1,formatResult:function(a){return k[a[0]]},parseValue:function(){var a=q.defaultValue,e;for(e in k){a===void 0&&(a=e);if(y&&e==g.val()||!y&&k[e]==g.val())return[e]}return[a]},validate:function(e){a.each(q.invalid,
function(g,h){a('.dw-li[data-val="'+h+'"]',e).removeClass("dw-v")})},onMarkupReady:function(a){a.addClass("dw-rating")},onSelect:function(a,e){if(y){y.val(a);g.val(e.values[0]).change()}},onChange:function(a,e){if(y&&e.live){y.val(a);g.val(e.values[0]).change()}},onDestroy:function(){y&&y.remove();g.show()}}}})(jQuery);(function(a){var t={inputClass:"",invalid:[],rtl:!1,group:!1,groupLabel:"Groups"};a.mobiscroll.presetShort("select");a.mobiscroll.presets.select=function(z){function h(){var c,b=0,e=[],f=[],g=[[]];r.group?(r.rtl&&(b=1),a("optgroup",k).each(function(b){e.push(a(this).attr("label"));f.push(b)}),g[b]=[{values:e,keys:f,label:r.groupLabel}],c=x,b+=r.rtl?-1:1):c=k;e=[];f=[];a("option",c).each(function(){var b=a(this).attr("value");e.push(a(this).text());f.push(b);a(this).prop("disabled")&&K.push(b)});g[b]=
[{values:e,keys:f,label:A}];return g}function q(a,b){var e=[];if(u){var f=[],g=0;for(g in z._selectedValues)f.push(H[g]),e.push(g);n.val(f.join(", "))}else n.val(a),e=b?z.values[I]:null;b&&(p=!0,k.val(e).change())}function g(a){if(u&&a.hasClass("dw-v")&&a.closest(".dw").find(".dw-ul").index(a.closest(".dw-ul"))==I){var b=a.attr("data-val");a.hasClass("dw-msel")?(a.removeClass("dw-msel").removeAttr("aria-selected"),delete z._selectedValues[b]):(a.addClass("dw-msel").attr("aria-selected","true"),z._selectedValues[b]=
b);z.live&&q(b,!0);return!1}}var E=a.extend({},z.settings),r=a.extend(z.settings,t,E),k=a(this),u=k.prop("multiple"),E=this.id+"_dummy",y=u?k.val()?k.val()[0]:a("option",k).attr("value"):k.val(),x=k.find('option[value="'+y+'"]').parent(),e=x.index()+"",w=e,p;a('label[for="'+this.id+'"]').attr("for",E);var m=a('label[for="'+E+'"]'),A=void 0!==r.label?r.label:m.length?m.text():k.attr("name"),K=[],F=[],H={},L,I,B,n,J=r.readonly;r.group&&!a("optgroup",k).length&&(r.group=!1);r.invalid.length||(r.invalid=
K);r.group?r.rtl?(L=1,I=0):(L=0,I=1):(L=-1,I=0);a("#"+E).remove();n=a('<input type="text" id="'+E+'" class="'+r.inputClass+'" readonly />').insertBefore(k);a("option",k).each(function(){H[a(this).attr("value")]=a(this).text()});z.attachShow(n);E=k.val()||[];m=0;for(m;m<E.length;m++)z._selectedValues[E[m]]=E[m];q(H[y]);k.off(".dwsel").on("change.dwsel",function(){p||z.setValue(u?k.val()||[]:[k.val()],true);p=false}).addClass("dw-hsel").attr("tabindex",-1).closest(".ui-field-contain").trigger("create");
z._setValue||(z._setValue=z.setValue);z.setValue=function(c,b,g,f,m){var n=a.isArray(c)?c[0]:c;y=n!==void 0?n:a("option",k).attr("value");if(u){z._selectedValues={};n=0;for(n;n<c.length;n++)z._selectedValues[c[n]]=c[n]}if(r.group){x=k.find('option[value="'+y+'"]').parent();w=x.index();c=r.rtl?[y,x.index()]:[x.index(),y];if(w!==e){r.wheels=h();z.changeWheel([I]);e=w+""}}else c=[y];z._setValue(c,b,g,f,m);if(b){b=u?true:y!==k.val();q(H[y],b)}};z.getValue=function(a){return(a?z.temp:z.values)[I]};return{width:50,
wheels:void 0,headerText:!1,multiple:u,anchor:n,formatResult:function(a){return H[a[I]]},parseValue:function(){var c=k.val()||[],b=0;if(u){z._selectedValues={};for(b;b<c.length;b++)z._selectedValues[c[b]]=c[b]}y=u?k.val()?k.val()[0]:a("option",k).attr("value"):k.val();x=k.find('option[value="'+y+'"]').parent();w=x.index();e=w+"";return r.group&&r.rtl?[y,w]:r.group?[w,y]:[y]},validate:function(c,b,g){if(b===void 0&&u){var f=z._selectedValues,m=0;a(".dwwl"+I+" .dw-li",c).removeClass("dw-msel").removeAttr("aria-selected");
for(m in f)a(".dwwl"+I+' .dw-li[data-val="'+f[m]+'"]',c).addClass("dw-msel").attr("aria-selected","true")}if(b===L){w=z.temp[L];if(w!==e){x=k.find("optgroup").eq(w);w=x.index();y=(y=x.find("option").eq(0).val())||k.val();r.wheels=h();if(r.group){z.temp=r.rtl?[y,w]:[w,y];r.readonly=[r.rtl,!r.rtl];clearTimeout(B);B=setTimeout(function(){z.changeWheel([I],void 0,true);r.readonly=J;e=w+""},g*1E3);return false}}else r.readonly=J}else y=z.temp[I];var n=a(".dw-ul",c).eq(I);a.each(r.invalid,function(b,c){a('.dw-li[data-val="'+
c+'"]',n).removeClass("dw-v")})},onBeforeShow:function(){if(u&&r.counter)r.headerText=function(){var c=0;a.each(z._selectedValues,function(){c++});return c+" "+r.selectedText};r.wheels=h();if(r.group)z.temp=r.rtl?[y,x.index()]:[x.index(),y]},onClear:function(c){z._selectedValues={};n.val("");a(".dwwl"+I+" .dw-li",c).removeClass("dw-msel").removeAttr("aria-selected")},onMarkupReady:function(c){c.addClass("dw-select");a(".dwwl"+L,c).on("mousedown touchstart",function(){clearTimeout(B)});if(u){c.addClass("dwms");
a(".dwwl",c).eq(I).addClass("dwwms").attr("aria-multiselectable","true");a(".dwwl",c).on("keydown",function(b){if(b.keyCode==32){b.preventDefault();b.stopPropagation();g(a(".dw-sel",this))}});F=a.extend({},z._selectedValues)}},onValueTap:g,onSelect:function(a){q(a,true);if(r.group)z.values=null},onCancel:function(){if(r.group)z.values=null;if(!z.live&&u)z._selectedValues=a.extend({},F)},onChange:function(a){if(z.live&&!u){n.val(a);p=true;k.val(z.temp[I]).change()}},onDestroy:function(){n.remove();
k.removeClass("dw-hsel").removeAttr("tabindex")}}}})(jQuery);(function(a){var t={defaults:{dateOrder:"Mddyy",mode:"mixed",rows:5,minWidth:70,height:36,showLabel:!1,useShortLabels:!0}};a.mobiscroll.themes["android-ics"]=t;a.mobiscroll.themes["android-ics light"]=t})(jQuery);(function(a){a.mobiscroll.themes.ios={defaults:{dateOrder:"MMdyy",rows:5,height:30,minWidth:55,headerText:!1,showLabel:!1,btnWidth:!1,useShortLabels:!0}}})(jQuery);(function(a){a.mobiscroll.themes.ios7={defaults:{dateOrder:"MMdyy",rows:5,height:34,minWidth:55,headerText:!1,showLabel:!1,btnWidth:!1,useShortLabels:!0}}})(jQuery);(function(a){var t;a.mobiscroll.themes.wp={defaults:{minWidth:70,height:76,accent:"none",dateOrder:"mmMMddDDyy",headerText:!1,showLabel:!1,btnWidth:!1,onAnimStart:function(z,h,q){a(".dwwl"+h,z).addClass("wpam");clearTimeout(t[h]);t[h]=setTimeout(function(){a(".dwwl"+h,z).removeClass("wpam")},1E3*q+100)}},load:function(a,h){if(a&&a.dateOrder&&!h.dateOrder){var q=a.dateOrder,q=q.match(/mm/i)?q.replace(/mmMM|mm|MM/,"mmMM"):q.replace(/mM|m|M/,"mM"),q=q.match(/dd/i)?q.replace(/ddDD|dd|DD/,"ddDD"):q.replace(/dD|d|D/,
"dD");h.dateOrder=q}},init:function(z,h){var q,g;t={};a(".dw",z).addClass("wp-"+h.settings.accent);a(".dwwl",z).on("touchstart mousedown DOMMouseScroll mousewheel",".dw-sel",function(){q=!0;g=a(this).closest(".dwwl").hasClass("wpa");a(".dwwl",z).removeClass("wpa");a(this).closest(".dwwl").addClass("wpa")}).on("touchmove mousemove",function(){q=!1}).on("touchend mouseup",function(){q&&g&&a(this).closest(".dwwl").removeClass("wpa")})}};a.mobiscroll.themes["wp light"]=a.mobiscroll.themes.wp})(jQuery);
